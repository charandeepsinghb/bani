let x;function Ee(e){if(x==null)return x=e.classList.contains("enable-para"),x}let k="";function pe(e){return k!=""||(k=e.getAttribute("data-bani-name")||""),k}let c=1,a=c,D,d="d-block",S;function ke(e){S=pe(e),c=parseInt(localStorage.getItem("currentShabadStart_"+S))||1,a=c,D=e,Ee(e)&&(d="d-inline"),Q(e)}function we(e){if(c<=1)return;Fe(),a=c-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){c--;const i=document.getElementById("shabad_"+c);if(!i){c++;break}if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),c++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+S,c)}function Fe(){let t=c,n=Math.max(a,c);for(;t<=n;){const i=document.getElementById("shabad_"+t);if(i&&i.classList.remove(d),t-c>500)break;t++}}function He(){let t=c;for(c=a+1;t<=a;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(d),t-c>500)break;t++}}function ve(e){if(!document.getElementById("shabad_"+(a+1)))return;He(),a=c;const n=500;let i=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const s=document.getElementById("shabad_"+a);if(!s)break;if(s.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){s.classList.remove(d),a--;break}if(a++,i>n)break;i++}localStorage.setItem("currentShabadStart_"+S,c)}function Q(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+a);if(!i)break;if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),a--;break}if(a++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+S,c)}function b(e){D&&(Ae(),e&&(c=e),a=c,Q(D))}function Ae(){let e=c;const t=500;let n=0;for(;e<=a;){const i=document.getElementById("shabad_"+e);if(i&&i.classList.remove(d),e++,n>t)break;n++}}function ee(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{b(),J()}):document.documentElement.requestFullscreen().then(()=>{b(),J()})}const te="floatingButtonX",ne="floatingButtonY";function f(e,t){localStorage.setItem(e,t)}function Ce(e){localStorage.removeItem(e)}function g(e){return localStorage.getItem(e)}const ie="fontSize",H="lineHeight",Ne="columnWidth",oe="align",W="english",O="punjabi";function _e(){localStorage.clear()}function se(e){we(e)}function ce(e){ve(e)}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function re(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function v(e,t,n){return n>=e&&n<=t}function y(e){return e&&typeof e=="string"&&e.length>0}function ze(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),i=document.getElementById("justifyAlign"),s=document.getElementById("bani");Pe(e,t,n,i,s),Te(e,t,n,i,s)}function Te(e,t,n,i,s){e.addEventListener("change",o=>{w("start",o.target.checked,s)}),t.addEventListener("change",o=>{w("center",o.target.checked,s)}),n.addEventListener("change",o=>{w("end",o.target.checked,s)}),i.addEventListener("change",o=>{w("justify",o.target.checked,s)})}function w(e,t,n){!t&&!y(e)||(n.style.textAlign=e,Re(e))}function Re(e){y(e)&&f(oe,e)}function xe(e,t,n,i,s,o){switch(s){case"start":o.style.textAlign=s,e.checked=!0;break;case"end":o.style.textAlign=s,n.checked=!0;break;case"center":o.style.textAlign=s,t.checked=!0;break;case"justify":o.style.textAlign=s,i.checked=!0;break}}function Pe(e,t,n,i,s){const o=g(oe);y(o)&&xe(e,t,n,i,o,s)}function Me(e){const t=document.getElementById("english");Oe(e,t),De(e,t)}function De(e,t){t.addEventListener("change",n=>{n.target.checked?(j(e,"true"),f(O,"true")):(j(e,"false"),f(O,"false")),b()})}function j(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function We(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Oe(e,t){let n=g(O);y(n)||(n="false"),j(e,n),We(t,n)}function A(e,t){e.value=Number.parseFloat(t).toFixed(2)}let ae;function je(e,t){ae=setInterval(()=>{e()},t)}function q(e){clearInterval(ae),e()}function C(e,t,n,i){e.addEventListener("pointerdown",s=>{je(()=>{t()},i)}),e.addEventListener("pointerup",s=>{q(()=>{n()})}),e.addEventListener("pointerleave",s=>{q(()=>{n()})})}const le=1,ue=200,de=1,fe=.04;function Ve(){const e=document.getElementById("font-input"),t=document.getElementById("bani");$e(e,t),Ue(e,t),Xe(e,t)}function Xe(e,t){e.addEventListener("change",n=>{h(n.target.value)&&v(le,ue,n.target.value)&&(t.style.fontSize=n.target.value+"px",X(t))})}function $e(e,t){const n=document.getElementById("font-increase");C(n,()=>{ge(fe,t,e)},()=>{X(t)},de)}function Ue(e,t){const n=document.getElementById("font-decrease");C(n,()=>{ge(-fe,t,e)},()=>{X(t)},de)}function Ye(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),i=document.getElementById("font-input");A(i,n)}function ge(e,t,n){const i=window.getComputedStyle(t).getPropertyValue("font-size");let o=Number.parseFloat(i.substring(0,i.length-2))+e;v(le,ue,o)&&(A(n,o),t.style.fontSize=o+"px")}function Ge(e){const t=g(ie);if(h(t)){e.style.fontSize=t+"px";return}}function X(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){f(ie,n);return}}const he=.8,me=10,Le=10,Ie=.1;let l=null;function Ze(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Je(e,t),Ke(e,t),qe(e,t)}function qe(e,t){e.addEventListener("change",n=>{const i=n.target.value;h(i)&&v(he,me,i)?(t.style.lineHeight=i,l=Number.parseFloat(i),$(l)):(l=null,t.style.lineHeight="normal",Ce(H))})}function Je(e,t){const n=document.getElementById("line-height-increase");C(n,()=>{Be(Ie,t,e)},()=>{$(l)},Le)}function Ke(e,t){const n=document.getElementById("line-height-decrease");C(n,()=>{Be(-Ie,t,e)},()=>{$(l)},Le)}function Be(e,t,n){const i=l+e;v(he,me,i)&&(l=i,A(n,l),t.style.lineHeight=l)}function Qe(){const e=g(H);if(!h(e)){l=null;return}const t=document.getElementById("line-height-input");l=Number.parseFloat(e),A(t,e)}function et(e){const t=g(H);if(h(t)){l=Number.parseFloat(t),e.style.lineHeight=l;return}l=null}function $(e){if(h(e)){f(H,e);return}}function tt(e){const t=document.getElementById("punjabi");ot(e,t),nt(e,t)}function nt(e,t){t.addEventListener("change",n=>{n.target.checked?(V(e,"true"),f(W,"true")):(V(e,"false"),f(W,"false")),b()})}function V(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function it(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function ot(e,t){let n=g(W);y(n)||(n="false"),V(e,n),it(t,n)}let F=!1;function st(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(i=>{e.innerHTML=i,ct(t)})}).catch(n=>{console.log(n)})}let L;function ct(e){L||(L=document.getElementById("menu")),ft(e)}function rt(){L||(L=document.getElementById("menu")),F?L.classList.add("menuClose"):L.classList.remove("menuClose"),F=!F}function at(){document.getElementById("reset-icon").addEventListener("click",()=>{_e(),location.reload()})}function lt(){document.getElementById("restart-icon").addEventListener("click",()=>{b(1)})}function ut(e){Ve(),Ze(),ze(),tt(e),Me(e)}function dt(e){Ye(),Qe(),ke(e)}function ft(e){at(),lt(),ut(e),dt(e)}let P=window.innerWidth,M=window.innerHeight;function gt(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const i=document.getElementById("menu-container");i&&st(i,t),Lt(t)}).catch(console.error)}function ht(e){let t=g(te),n=g(ne);if(re(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const i=e.offsetWidth;e.offsetHeight,U(e,t,n,i)}}let Se=0,be=0;function mt(e,t){re(e,t)&&(f(te,e),f(ne,t))}function Lt(e){const t=document.getElementById("floating-button");ht(t);let n=!1,i=!1,s=!1,o=!1,u=!1,N=!1,_,z,Y,G;function E(r,m){return r.closest(`#${m}`)!==null}t.addEventListener("pointerdown",r=>{o=E(r.target,"left-icon"),u=E(r.target,"right-icon"),s=E(r.target,"menu-icon"),N=E(r.target,"fullscreen-icon"),i=!0,n=!0,t.classList.remove("inactive"),_=r.clientX,z=r.clientY,Y=t.offsetLeft,G=t.offsetTop,t.setPointerCapture(r.pointerId)}),t.addEventListener("pointermove",r=>{if(n){const m=r.clientX-_,I=r.clientY-z;if(Math.abs(m)>p||Math.abs(I)>p){const T=t.offsetWidth;t.offsetHeight;let R=Y+m,ye=G+I;U(t,R,ye,T),s=!1,o=!1,u=!1,N=!1,i=!1}}});const p=15;t.addEventListener("pointerup",r=>{const m=r.clientX,I=r.clientY,Z=Math.abs(m-_),T=Math.abs(I-z),R=Z<=p&&T<=p;i&&R?(s&&rt(),o&&se(e),u&&ce(e),N&&ee()):n&&mt(Se,be),n=!1,F||t.classList.add("inactive"),t.releasePointerCapture(r.pointerId)})}function U(e,t,n,i,s){P=window.innerWidth,M=window.innerHeight;const o=i/2,u=10;t-o-u<0&&(t=o+u),t+o+u>P&&(t=P-o-u),n-o-u<0&&(n=o+u),n+o+u>M&&(n=M-o-u),Se=t,be=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function J(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,i=e.offsetWidth;e.offsetHeight,U(e,t,n,i)}function It(e){const t=g(Ne);if(h(t)){e.style.columnWidth=t+"vw";return}}function Bt(e){St(e)}function St(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?se(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?ce(e):(t.key==="F"||t.key==="f")&&ee()})}const B=document.getElementById("bani"),K=document.getElementById("floating-button-container");K!=null&&gt(K,B);function bt(){Ge(B),It(B),et(B)}bt();Bt(B);
