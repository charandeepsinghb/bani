let x;function Ee(e){if(x==null)return x=e.classList.contains("enable-para"),x}let k="";function pe(e){return k!=""||(k=e.getAttribute("data-bani-name")||""),k}let c=1,a=c,W,d="d-block",S;function ke(e){S=pe(e),c=parseInt(localStorage.getItem("currentShabadStart_"+S))||1,a=c,W=e,Ee(e)&&(d="d-inline"),ee(e)}function we(e){if(c<=1)return;Fe(),a=c-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){c--;const i=document.getElementById("shabad_"+c);if(!i){c++;break}if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),c++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+S,c)}function Fe(){let t=c,n=Math.max(a,c);for(;t<=n;){const i=document.getElementById("shabad_"+t);if(i&&i.classList.remove(d),t-c>500)break;t++}}function ve(){let t=c;for(c=a+1;t<=a;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(d),t-c>500)break;t++}}function He(e){if(!document.getElementById("shabad_"+(a+1)))return;ve(),a=c;const n=500;let i=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const s=document.getElementById("shabad_"+a);if(!s)break;if(s.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){s.classList.remove(d),a--;break}if(a++,i>n)break;i++}localStorage.setItem("currentShabadStart_"+S,c)}function ee(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+a);if(!i)break;if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),a--;break}if(a++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+S,c)}function b(e){W&&(Ae(),e&&(c=e),a=c,ee(W))}function Ae(){let e=c;const t=500;let n=0;for(;e<=a;){const i=document.getElementById("shabad_"+e);if(i&&i.classList.remove(d),e++,n>t)break;n++}}function te(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{b(),$()}):document.documentElement.requestFullscreen().then(()=>{b(),$()})}const ne="floatingButtonX",ie="floatingButtonY";function f(e,t){localStorage.setItem(e,t)}function Ce(e){localStorage.removeItem(e)}function g(e){return localStorage.getItem(e)}const oe="fontSize",v="lineHeight",Ne="columnWidth",se="align",D="english",O="punjabi";function ze(){localStorage.clear()}function ce(e){we(e)}function re(e){He(e)}function _e(){window.addEventListener("resize",()=>{$()})}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function ae(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function H(e,t,n){return n>=e&&n<=t}function y(e){return e&&typeof e=="string"&&e.length>0}function Te(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),i=document.getElementById("justifyAlign"),s=document.getElementById("bani");Me(e,t,n,i,s),Re(e,t,n,i,s)}function Re(e,t,n,i,s){e.addEventListener("change",o=>{w("start",o.target.checked,s)}),t.addEventListener("change",o=>{w("center",o.target.checked,s)}),n.addEventListener("change",o=>{w("end",o.target.checked,s)}),i.addEventListener("change",o=>{w("justify",o.target.checked,s)})}function w(e,t,n){!t&&!y(e)||(n.style.textAlign=e,xe(e))}function xe(e){y(e)&&f(se,e)}function Pe(e,t,n,i,s,o){switch(s){case"start":o.style.textAlign=s,e.checked=!0;break;case"end":o.style.textAlign=s,n.checked=!0;break;case"center":o.style.textAlign=s,t.checked=!0;break;case"justify":o.style.textAlign=s,i.checked=!0;break}}function Me(e,t,n,i,s){const o=g(se);y(o)&&Pe(e,t,n,i,o,s)}function We(e){const t=document.getElementById("english");je(e,t),De(e,t)}function De(e,t){t.addEventListener("change",n=>{n.target.checked?(j(e,"true"),f(O,"true")):(j(e,"false"),f(O,"false")),b()})}function j(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function Oe(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function je(e,t){let n=g(O);y(n)||(n="false"),j(e,n),Oe(t,n)}function A(e,t){e.value=Number.parseFloat(t).toFixed(2)}let le;function Xe(e,t){le=setInterval(()=>{e()},t)}function K(e){clearInterval(le),e()}function C(e,t,n,i){e.addEventListener("pointerdown",s=>{Xe(()=>{t()},i)}),e.addEventListener("pointerup",s=>{K(()=>{n()})}),e.addEventListener("pointerleave",s=>{K(()=>{n()})})}const ue=1,de=200,fe=1,ge=.04;function Ve(){const e=document.getElementById("font-input"),t=document.getElementById("bani");Ue(e,t),Ye(e,t),$e(e,t)}function $e(e,t){e.addEventListener("change",n=>{h(n.target.value)&&H(ue,de,n.target.value)&&(t.style.fontSize=n.target.value+"px",U(t))})}function Ue(e,t){const n=document.getElementById("font-increase");C(n,()=>{he(ge,t,e)},()=>{U(t)},fe)}function Ye(e,t){const n=document.getElementById("font-decrease");C(n,()=>{he(-ge,t,e)},()=>{U(t)},fe)}function Ge(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),i=document.getElementById("font-input");A(i,n)}function he(e,t,n){const i=window.getComputedStyle(t).getPropertyValue("font-size");let o=Number.parseFloat(i.substring(0,i.length-2))+e;H(ue,de,o)&&(A(n,o),t.style.fontSize=o+"px")}function Ze(e){const t=g(oe);if(h(t)){e.style.fontSize=t+"px";return}}function U(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){f(oe,n);return}}const X=1,me=10,Le=10,Ie=.01;let l=null;function qe(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Ke(e,t),Qe(e,t),Je(e,t)}function Je(e,t){e.addEventListener("change",n=>{const i=n.target.value;h(i)&&H(X,me,i)?(t.style.lineHeight=i,l=Number.parseFloat(i),Y(l)):(l=null,t.style.lineHeight="normal",Ce(v))})}function Ke(e,t){const n=document.getElementById("line-height-increase");C(n,()=>{Be(Ie,t,e)},()=>{Y(l)},Le)}function Qe(e,t){const n=document.getElementById("line-height-decrease");C(n,()=>{Be(-Ie,t,e)},()=>{Y(l)},Le)}function Be(e,t,n){let i;l?i=l+e:i=X+e,H(X,me,i)&&(l=i,A(n,l),t.style.lineHeight=l)}function et(){const e=g(v);if(!h(e)){l=null;return}const t=document.getElementById("line-height-input");l=Number.parseFloat(e),A(t,e)}function tt(e){const t=g(v);if(h(t)){l=Number.parseFloat(t),e.style.lineHeight=l;return}l=null}function Y(e){if(h(e)){f(v,e);return}}function nt(e){const t=document.getElementById("punjabi");st(e,t),it(e,t)}function it(e,t){t.addEventListener("change",n=>{n.target.checked?(V(e,"true"),f(D,"true")):(V(e,"false"),f(D,"false")),b()})}function V(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function ot(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function st(e,t){let n=g(D);y(n)||(n="false"),V(e,n),ot(t,n)}let F=!1;function ct(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(i=>{e.innerHTML=i,rt(t)})}).catch(n=>{console.log(n)})}let L;function rt(e){L||(L=document.getElementById("menu")),gt(e)}function at(){L||(L=document.getElementById("menu")),F?L.classList.add("menuClose"):L.classList.remove("menuClose"),F=!F}function lt(){document.getElementById("reset-icon").addEventListener("click",()=>{ze(),location.reload()})}function ut(){document.getElementById("restart-icon").addEventListener("click",()=>{b(1)})}function dt(e){Ve(),qe(),Te(),nt(e),We(e)}function ft(e){Ge(),et(),ke(e)}function gt(e){lt(),ut(),dt(e),ft(e)}let P=window.innerWidth,M=window.innerHeight;function ht(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const i=document.getElementById("menu-container");i&&ct(i,t),It(t)}).catch(console.error)}function mt(e){let t=g(ne),n=g(ie);if(ae(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const i=e.offsetWidth;e.offsetHeight,G(e,t,n,i)}}let Se=0,be=0;function Lt(e,t){ae(e,t)&&(f(ne,e),f(ie,t))}function It(e){const t=document.getElementById("floating-button");mt(t);let n=!1,i=!1,s=!1,o=!1,u=!1,N=!1,z,_,Z,q;function E(r,m){return r.closest(`#${m}`)!==null}t.addEventListener("pointerdown",r=>{o=E(r.target,"left-icon"),u=E(r.target,"right-icon"),s=E(r.target,"menu-icon"),N=E(r.target,"fullscreen-icon"),i=!0,n=!0,t.classList.remove("inactive"),z=r.clientX,_=r.clientY,Z=t.offsetLeft,q=t.offsetTop,t.setPointerCapture(r.pointerId)}),t.addEventListener("pointermove",r=>{if(n){const m=r.clientX-z,I=r.clientY-_;if(Math.abs(m)>p||Math.abs(I)>p){const T=t.offsetWidth;t.offsetHeight;let R=Z+m,ye=q+I;G(t,R,ye,T),s=!1,o=!1,u=!1,N=!1,i=!1}}});const p=15;t.addEventListener("pointerup",r=>{const m=r.clientX,I=r.clientY,J=Math.abs(m-z),T=Math.abs(I-_),R=J<=p&&T<=p;i&&R?(s&&at(),o&&ce(e),u&&re(e),N&&te()):n&&Lt(Se,be),n=!1,F||t.classList.add("inactive"),t.releasePointerCapture(r.pointerId)}),_e()}function G(e,t,n,i,s){P=window.innerWidth,M=window.innerHeight;const o=i/2,u=10;t-o-u<0&&(t=o+u),t+o+u>P&&(t=P-o-u),n-o-u<0&&(n=o+u),n+o+u>M&&(n=M-o-u),Se=t,be=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function $(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,i=e.offsetWidth;e.offsetHeight,G(e,t,n,i)}function Bt(e){const t=g(Ne);if(h(t)){e.style.columnWidth=t+"vw";return}}function St(e){bt(e)}function bt(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?ce(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?re(e):(t.key==="F"||t.key==="f")&&te()})}const B=document.getElementById("bani"),Q=document.getElementById("floating-button-container");Q!=null&&ht(Q,B);function yt(){Ze(B),Bt(B),tt(B)}yt();St(B);
