let j;function ot(e){if(j==null)return j=e.classList.contains("enable-para"),j}let _="";function ve(e){return _!=""||(_=e.getAttribute("data-bani-name")||""),_}let s=1,u=s,J,L="d-block",N;function it(e){N=ve(e),s=parseInt(localStorage.getItem("currentShabadStart_"+N))||1,u=s,J=e,ot(e)&&(L="d-inline"),Ce(e)}function rt(e){if(s<=1)return;st(),u=s-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){s--;const o=document.getElementById("shabad_"+s);if(!o){s++;break}if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),s++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+N,s)}function st(){let t=s,n=Math.max(u,s);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(L),t-s>500)break;t++}}function at(){let t=s;for(s=u+1;t<=u;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(L),t-s>500)break;t++}}function ct(e){if(!document.getElementById("shabad_"+(u+1)))return;at(),u=s;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+u);if(!i)break;if(i.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(L),u--;break}if(u++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+N,s)}function Ce(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+u);if(!o)break;if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),u--;break}if(u++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+N,s)}function I(e){J&&(dt(),e&&(s=e),u=s,Ce(J))}function dt(){let e=s;const t=500;let n=0;for(;e<=u;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(L),e++,n>t)break;n++}}function we(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{I(),re()}):document.documentElement.requestFullscreen().then(()=>{I(),re()})}const Fe="floatingButtonX",Ae="floatingButtonY";function c(e,t){localStorage.setItem(e,t)}function Ne(e){localStorage.removeItem(e)}function d(e){return localStorage.getItem(e)}const Te="fontSize",P="lineHeight",$="wordSpacing",He="align",Z="english",K="punjabi",x="darkMode",O="fontColor",ke="fontColorSecond",M="backgroundColor",Le="backgroundColorSecond",se="bookmarks";function lt(){localStorage.clear()}function ae(e){rt(e)}function ce(e){ct(e)}function ut(){window.addEventListener("resize",()=>{re()})}function k(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function _e(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function S(e,t,n){return n>=e&&n<=t}function m(e){return e&&typeof e=="string"&&e.length>0}function ft(e){return!e||e.length==0}function gt(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),i=document.getElementById("bani");Lt(e,t,n,o,i),mt(e,t,n,o,i)}function mt(e,t,n,o,i){e.addEventListener("change",r=>{R("start",r.target.checked,i)}),t.addEventListener("change",r=>{R("center",r.target.checked,i)}),n.addEventListener("change",r=>{R("end",r.target.checked,i)}),o.addEventListener("change",r=>{R("justify",r.target.checked,i)})}function R(e,t,n){!t&&!m(e)||(n.style.textAlign=e,ht(e))}function ht(e){m(e)&&c(He,e)}function kt(e,t,n,o,i,r){switch(i){case"start":r.style.textAlign=i,e.checked=!0;break;case"end":r.style.textAlign=i,n.checked=!0;break;case"center":r.style.textAlign=i,t.checked=!0;break;case"justify":r.style.textAlign=i,o.checked=!0;break}}function Lt(e,t,n,o,i){const r=d(He);m(r)&&kt(e,t,n,o,r,i)}function bt(){const e=document.getElementById("background-color"),t=document.getElementById("background-color-picker-2");pe(e,M),pe(t,Le),Be(e,M),Be(t,Le),Bt(e),be(e),be(t)}function be(e){e.addEventListener("click",t=>{de(t.target.value)})}function Be(e,t){e.addEventListener("change",n=>{de(n.target.value),c(t,n.target.value)})}function de(e){document.documentElement.style.setProperty("--background-color",e)}function Re(e,t){e.value=t}function pe(e,t){let n=d(t);m(n)&&Re(e,n)}const G="#ffffff";function Bt(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",G),Re(e,G),c(M,G)})}function pt(){let e=d(M);m(e)&&de(e)}function Et(e,t=3e3){const n=document.getElementById("toast-container");n.textContent=e,n.classList.remove("hide"),n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),n.classList.add("hide")},t)}let q=!1,b;function It(e){const t=document.getElementById("bookmark"),n=document.getElementById("bookmarks-container"),o=ve(e);b=St(),yt(n,o),Nt(t,e),At(e,n,o),Ht(o),Rt()}function St(e,t){const n=d(se);return m(n)?JSON.parse(n):[]}function yt(e,t){const n=b.filter(i=>{if(i.baniName==t)return!0});if(ft(n))return;let o="";for(const i of n){const r=ze(i.shabadPre,i.shabadId);o+=r}e.innerHTML=o}function ze(e,t){return`
    <div id='bookmark_${t}' class="bookmark" data-shabadid='${t}'>
      <a data-shabadid='${t}' href='#' class='bookmark-show' id='bookmark-show_${t}'>${e}</a>
      <button class="icon bookmark-delete" data-shabadid='${t}' id='bookmark-delete_${t}'>
        <span class="material-symbols-outlined" data-shabadid='${t}'>delete</span>
      </button>
    </div>
  `}function vt(e,t,n,o){const i=e.target.closest(".gurmukhi");if(!q||!(i!=null&&i.classList.contains("gurmukhi")))return;const r=Ct(i,n,o);r&&(Ft(t,r),_t(o,r.shabadId),zt(r.shabadId),wt(r),Et("Bookmark Added",800))}function Ct(e,t,n){const o=e.getAttribute("id"),i=Number.parseInt(o.replace("shabad_",""));for(const a of b)if((a==null?void 0:a.shabadId)==i&&(a==null?void 0:a.baniName)==n)return;if(b.includes(i))return;const r=e.innerText.trim().substring(0,20);return{shabadId:i,shabadPre:r,baniName:n}}function wt(e){b.push(e);const t=JSON.stringify(b);c(se,t)}function Ft(e,t){const n=ze(t.shabadPre,t.shabadId);e.insertAdjacentHTML("beforeend",n)}function At(e,t,n){Tt(e,o=>{vt(o,t,e,n)},500)}function Nt(e,t){e.addEventListener("change",n=>{n.target.checked?(q=!0,t.classList.add("prevent-selection")):(q=!1,t.classList.remove("prevent-selection"))})}function Tt(e,t,n=500){let o;e.addEventListener("mousedown",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("mouseup",()=>clearTimeout(o)),e.addEventListener("mouseleave",()=>clearTimeout(o)),e.addEventListener("touchstart",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("touchend",()=>clearTimeout(o)),e.addEventListener("touchcancel",()=>clearTimeout(o))}function Ht(e){const t=document.getElementsByClassName("bookmark-delete");for(const n of t)n.addEventListener("click",o=>{const i=Number(o.target.getAttribute("data-shabadid"));xe(i,e),Oe(i)})}function _t(e,t){document.getElementById("bookmark-delete_"+t).addEventListener("click",o=>{const i=Number(o.target.getAttribute("data-shabadid"));xe(i,e),Oe(i)})}function xe(e,t){b=b.filter(o=>o.baniName==t&&o.shabadId!=e||o.baniName!=t);const n=JSON.stringify(b);c(se,n)}function Oe(e){document.getElementById("bookmark_"+e).remove()}function Rt(){const e=document.getElementsByClassName("bookmark-show");for(const t of e)Me(t)}function zt(e){const t=document.getElementById("bookmark-show_"+e);Me(t)}function Me(e){e.addEventListener("click",t=>{const n=t.target.getAttribute("data-shabadid");xt(n)})}function xt(e){I(e)}function Ot(){const e=document.getElementById("dark-mode");Dt(e),Mt(e)}function Mt(e){e.addEventListener("change",t=>{t.target.checked?(Q("true"),c(x,"true")):(Q("false"),c(x,"false"))})}function Q(e){e==="true"?D(!0):e==="false"&&D(!1)}function ee(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Dt(e){let t=d(x);m(t)||(t="false"),ee(e,t)}function Pt(){let e=d(x);m(e)||(e="false"),Q(e)}function D(e){if(e){document.body.classList.add("dark-mode");return}document.body.classList.remove("dark-mode")}const $t=window.matchMedia("(prefers-color-scheme: dark)");$t.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(D(!0),ee(t,"true")):(D(!1),ee(t,"false"))});function Wt(e){const t=document.getElementById("english");Gt(e,t),Xt(e,t)}function Xt(e,t){t.addEventListener("change",n=>{n.target.checked?(te(e,"true"),c(K,"true")):(te(e,"false"),c(K,"false")),I()})}function te(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function jt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Gt(e,t){let n=d(K);m(n)||(n="false"),te(e,n),jt(t,n)}function Ut(){const e=document.getElementById("font-color"),t=document.getElementById("font-color-picker-2");Se(e,O),Se(t,ke),Ie(e,O),Ie(t,ke),Yt(e),Ee(e),Ee(t)}function Ee(e){e.addEventListener("click",t=>{le(t.target.value)})}function Ie(e,t){e.addEventListener("change",n=>{le(n.target.value),c(t,n.target.value)})}function le(e){document.documentElement.style.setProperty("--font-color",e)}function De(e,t){e.value=t}function Se(e,t){let n=d(t);m(n)&&De(e,n)}const U="#000000";function Yt(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",U),De(e,U),c(O,U)})}function Vt(){let e=d(O);m(e)&&le(e)}function y(e,t){e.value=Number.parseFloat(t).toFixed(2)}let Pe;function Jt(e,t){Pe=setInterval(()=>{e()},t)}function ye(e){clearInterval(Pe),e()}function v(e,t,n,o){e.addEventListener("pointerdown",i=>{Jt(()=>{t()},o)}),e.addEventListener("pointerup",i=>{ye(()=>{n()})}),e.addEventListener("pointerleave",i=>{ye(()=>{n()})})}const $e=1,We=200,Xe=1,je=.04;function Zt(){const e=document.getElementById("font-input"),t=document.getElementById("bani");qt(e,t),Qt(e,t),Kt(e,t)}function Kt(e,t){e.addEventListener("change",n=>{k(n.target.value)&&S($e,We,n.target.value)&&(t.style.fontSize=n.target.value+"px",ue(t))})}function qt(e,t){const n=document.getElementById("font-increase");v(n,()=>{Ge(je,t,e)},()=>{ue(t)},Xe)}function Qt(e,t){const n=document.getElementById("font-decrease");v(n,()=>{Ge(-je,t,e)},()=>{ue(t)},Xe)}function en(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");y(o,n)}function Ge(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let r=Number.parseFloat(o.substring(0,o.length-2))+e;S($e,We,r)&&(y(n,r),t.style.fontSize=r+"px")}function tn(e){const t=d(Te);if(k(t)){e.style.fontSize=t+"px";return}}function ue(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(k(n)){c(Te,n);return}}const ne=1,Ue=10,Ye=10,Ve=.01;let f=null;function nn(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");rn(e,t),sn(e,t),on(e,t)}function on(e,t){e.addEventListener("change",n=>{const o=n.target.value;k(o)&&S(ne,Ue,o)?(t.style.lineHeight=o,f=Number.parseFloat(o),fe(f)):(f=null,t.style.lineHeight="normal",Ne(P))})}function rn(e,t){const n=document.getElementById("line-height-increase");v(n,()=>{Je(Ve,t,e)},()=>{fe(f)},Ye)}function sn(e,t){const n=document.getElementById("line-height-decrease");v(n,()=>{Je(-Ve,t,e)},()=>{fe(f)},Ye)}function Je(e,t,n){let o;f?o=f+e:o=ne+e,S(ne,Ue,o)&&(f=o,y(n,f),t.style.lineHeight=f)}function an(){const e=d(P);if(!k(e)){f=null;return}const t=document.getElementById("line-height-input");f=Number.parseFloat(e),y(t,e)}function cn(e){const t=d(P);if(k(t)){f=Number.parseFloat(t),e.style.lineHeight=f;return}f=null}function fe(e){if(k(e)){c(P,e);return}}function dn(e){const t=document.getElementById("punjabi");fn(e,t),ln(e,t)}function ln(e,t){t.addEventListener("change",n=>{n.target.checked?(oe(e,"true"),c(Z,"true")):(oe(e,"false"),c(Z,"false")),I()})}function oe(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function un(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function fn(e,t){let n=d(Z);m(n)||(n="false"),oe(e,n),un(t,n)}const ie=1,Ze=20,Ke=10,qe=.01;let g=null;function gn(){const e=document.getElementById("word-spacing-input"),t=document.getElementById("bani");hn(e,t),kn(e,t),mn(e,t)}function mn(e,t){e.addEventListener("change",n=>{let o=n.target.value;o&&(o=Number.parseFloat(o)),k(o)&&S(ie,Ze,o)?(t.style.wordSpacing=o+"px",g=Number.parseFloat(o),ge(g)):(g=null,t.style.wordSpacing="normal",Ne($))})}function hn(e,t){const n=document.getElementById("word-spacing-increase");v(n,()=>{Qe(qe,t,e)},()=>{ge(g)},Ke)}function kn(e,t){const n=document.getElementById("word-spacing-decrease");v(n,()=>{Qe(-qe,t,e)},()=>{ge(g)},Ke)}function Qe(e,t,n){let o;g?o=g+e:o=ie+e,S(ie,Ze,o)&&(g=o,y(n,g),t.style.wordSpacing=g+"px")}function Ln(){const e=d($);if(!k(e)){g=null;return}const t=document.getElementById("word-spacing-input");g=Number.parseFloat(e),y(t,e)}function bn(e){const t=d($);if(k(t)){g=Number.parseFloat(t),e.style.wordSpacing=g+"px";return}g=null}function ge(e){if(k(e)){c($,e);return}}let z=!1;function Bn(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,pn(t)})}).catch(n=>{console.log(n)})}let E;function pn(e){E||(E=document.getElementById("menu")),Cn(e)}function En(){E||(E=document.getElementById("menu")),z?E.classList.add("menuClose"):E.classList.remove("menuClose"),z=!z}function In(){document.getElementById("reset-icon").addEventListener("click",()=>{lt(),location.reload()})}function Sn(){document.getElementById("restart-icon").addEventListener("click",()=>{I(1)})}function yn(e){Zt(),nn(),gn(),gt(),dn(e),Wt(e),Ot(),Ut(),bt(),It(e)}function vn(e){en(),an(),Ln(),it(e)}function Cn(e){In(),Sn(),yn(e),vn(e)}let Y=window.innerWidth,V=window.innerHeight;function wn(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&Bn(o,t),Nn(t)}).catch(console.error)}function Fn(e){let t=d(Fe),n=d(Ae);if(_e(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,me(e,t,n,o)}}let et=0,tt=0;function An(e,t){_e(e,t)&&(c(Fe,e),c(Ae,t))}function Nn(e){const t=document.getElementById("floating-button");Fn(t);let n=!1,o=!1,i=!1,r=!1,a=!1,C=!1,B,h,w,T;function F(l,p){return l.closest(`#${p}`)!==null}t.addEventListener("pointerdown",l=>{r=F(l.target,"left-icon"),a=F(l.target,"right-icon"),i=F(l.target,"menu-icon"),C=F(l.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),B=l.clientX,h=l.clientY,w=t.offsetLeft,T=t.offsetTop,t.setPointerCapture(l.pointerId)}),t.addEventListener("pointermove",l=>{if(n){const p=l.clientX-B,A=l.clientY-h;if(Math.abs(p)>H||Math.abs(A)>H){const W=t.offsetWidth;t.offsetHeight;let X=w+p,nt=T+A;me(t,X,nt,W),i=!1,r=!1,a=!1,C=!1,o=!1}}});const H=15;t.addEventListener("pointerup",l=>{const p=l.clientX,A=l.clientY,he=Math.abs(p-B),W=Math.abs(A-h),X=he<=H&&W<=H;o&&X?(i&&En(),r&&ae(e),a&&ce(e),C&&we()):n&&An(et,tt),n=!1,z||t.classList.add("inactive"),t.releasePointerCapture(l.pointerId)}),ut()}function me(e,t,n,o,i){Y=window.innerWidth,V=window.innerHeight;const r=o/2,a=10;t-r-a<0&&(t=r+a),t+r+a>Y&&(t=Y-r-a),n-r-a<0&&(n=r+a),n+r+a>V&&(n=V-r-a),et=t,tt=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function re(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,me(e,t,n,o)}function Tn(e){Hn(e)}function Hn(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?ae(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?ce(e):(t.key==="F"||t.key==="f")&&we()})}function _n(e,t){let n=0,o=0,i=!1;const r=50,a=100,C=500;let B=0;e.style.touchAction="none",e.addEventListener("pointerdown",function(h){(h.pointerType==="touch"||h.pointerType==="pen")&&(i=!0,n=h.clientX,o=h.clientY,B=Date.now())}),e.addEventListener("pointerup",function(h){if(!i)return;i=!1;const w=h.clientX-n,T=h.clientY-o;Date.now()-B<=C&&Math.abs(T)<=a&&Math.abs(w)>=r&&(w<0?t("left"):t("right"))}),e.addEventListener("pointercancel",()=>{i=!1})}function Rn(e){_n(e,t=>{t==="left"?ce(e):t==="right"&&ae(e)})}function zn(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function xn(){const e=document.getElementById("bani");if(!e)return;const t=document.getElementById("floating-button-container");t!=null&&wn(t,e);function n(){tn(e),cn(e),bn(e)}n(),Tn(e),Rn(e)}zn(xn);Pt();pt();Vt();
