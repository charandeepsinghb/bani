let W;function Ze(e){if(W==null)return W=e.classList.contains("enable-para"),W}let w="";function Ke(e){return w!=""||(w=e.getAttribute("data-bani-name")||""),w}let r=1,d=r,U,L="d-block",B;function qe(e){B=Ke(e),r=parseInt(localStorage.getItem("currentShabadStart_"+B))||1,d=r,U=e,Ze(e)&&(L="d-inline"),be(e)}function Je(e){if(r<=1)return;Qe(),d=r-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){r--;const o=document.getElementById("shabad_"+r);if(!o){r++;break}if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),r++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+B,r)}function Qe(){let t=r,n=Math.max(d,r);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(L),t-r>500)break;t++}}function et(){let t=r;for(r=d+1;t<=d;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(L),t-r>500)break;t++}}function tt(e){if(!document.getElementById("shabad_"+(d+1)))return;et(),d=r;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const c=document.getElementById("shabad_"+d);if(!c)break;if(c.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){c.classList.remove(L),d--;break}if(d++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+B,r)}function be(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+d);if(!o)break;if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),d--;break}if(d++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+B,r)}function y(e){U&&(nt(),e&&(r=e),d=r,be(U))}function nt(){let e=r;const t=500;let n=0;for(;e<=d;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(L),e++,n>t)break;n++}}function ke(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{y(),te()}):document.documentElement.requestFullscreen().then(()=>{y(),te()})}const pe="floatingButtonX",Be="floatingButtonY";function a(e,t){localStorage.setItem(e,t)}function ye(e){localStorage.removeItem(e)}function l(e){return localStorage.getItem(e)}const Ce="fontSize",T="lineHeight",z="wordSpacing",ve="align",V="english",Y="punjabi",N="darkMode",H="fontColor",ue="fontColorSecond",_="backgroundColor",fe="backgroundColorSecond";function ot(){localStorage.clear()}function we(e){Je(e)}function Fe(e){tt(e)}function it(){window.addEventListener("resize",()=>{te()})}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function Ae(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function I(e,t,n){return n>=e&&n<=t}function m(e){return e&&typeof e=="string"&&e.length>0}function ct(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),c=document.getElementById("bani");lt(e,t,n,o,c),rt(e,t,n,o,c)}function rt(e,t,n,o,c){e.addEventListener("change",i=>{F("start",i.target.checked,c)}),t.addEventListener("change",i=>{F("center",i.target.checked,c)}),n.addEventListener("change",i=>{F("end",i.target.checked,c)}),o.addEventListener("change",i=>{F("justify",i.target.checked,c)})}function F(e,t,n){!t&&!m(e)||(n.style.textAlign=e,st(e))}function st(e){m(e)&&a(ve,e)}function at(e,t,n,o,c,i){switch(c){case"start":i.style.textAlign=c,e.checked=!0;break;case"end":i.style.textAlign=c,n.checked=!0;break;case"center":i.style.textAlign=c,t.checked=!0;break;case"justify":i.style.textAlign=c,o.checked=!0;break}}function lt(e,t,n,o,c){const i=l(ve);m(i)&&at(e,t,n,o,i,c)}function dt(){const e=document.getElementById("background-color"),t=document.getElementById("background-color-picker-2");me(e,_),me(t,fe),he(e,_),he(t,fe),ut(e),ge(e),ge(t)}function ge(e){e.addEventListener("click",t=>{ne(t.target.value)})}function he(e,t){e.addEventListener("change",n=>{ne(n.target.value),a(t,n.target.value)})}function ne(e){document.documentElement.style.setProperty("--background-color",e)}function Ne(e,t){e.value=t}function me(e,t){let n=l(t);m(n)&&Ne(e,n)}const $="#ffffff";function ut(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",$),Ne(e,$),a(_,$)})}function ft(){let e=l(_);m(e)&&ne(e)}function gt(){const e=document.getElementById("dark-mode");mt(e),ht(e)}function ht(e){e.addEventListener("change",t=>{t.target.checked?(Z("true"),a(N,"true")):(Z("false"),a(N,"false"))})}function Z(e){e==="true"?R(!0):e==="false"&&R(!1)}function K(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function mt(e){let t=l(N);m(t)||(t="false"),K(e,t)}function Lt(){let e=l(N);m(e)||(e="false"),Z(e)}function R(e){if(e){document.body.classList.add("dark-mode");return}document.body.classList.remove("dark-mode")}const Et=window.matchMedia("(prefers-color-scheme: dark)");Et.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(R(!0),K(t,"true")):(R(!1),K(t,"false"))});function St(e){const t=document.getElementById("english");kt(e,t),It(e,t)}function It(e,t){t.addEventListener("change",n=>{n.target.checked?(q(e,"true"),a(Y,"true")):(q(e,"false"),a(Y,"false")),y()})}function q(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function bt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function kt(e,t){let n=l(Y);m(n)||(n="false"),q(e,n),bt(t,n)}function pt(){const e=document.getElementById("font-color"),t=document.getElementById("font-color-picker-2");Se(e,H),Se(t,ue),Ee(e,H),Ee(t,ue),Bt(e),Le(e),Le(t)}function Le(e){e.addEventListener("click",t=>{oe(t.target.value)})}function Ee(e,t){e.addEventListener("change",n=>{oe(n.target.value),a(t,n.target.value)})}function oe(e){document.documentElement.style.setProperty("--font-color",e)}function He(e,t){e.value=t}function Se(e,t){let n=l(t);m(n)&&He(e,n)}const j="#000000";function Bt(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",j),He(e,j),a(H,j)})}function yt(){let e=l(H);m(e)&&oe(e)}function b(e,t){e.value=Number.parseFloat(t).toFixed(2)}let _e;function Ct(e,t){_e=setInterval(()=>{e()},t)}function Ie(e){clearInterval(_e),e()}function k(e,t,n,o){e.addEventListener("pointerdown",c=>{Ct(()=>{t()},o)}),e.addEventListener("pointerup",c=>{Ie(()=>{n()})}),e.addEventListener("pointerleave",c=>{Ie(()=>{n()})})}const Re=1,Te=200,ze=1,xe=.04;function vt(){const e=document.getElementById("font-input"),t=document.getElementById("bani");Ft(e,t),At(e,t),wt(e,t)}function wt(e,t){e.addEventListener("change",n=>{h(n.target.value)&&I(Re,Te,n.target.value)&&(t.style.fontSize=n.target.value+"px",ie(t))})}function Ft(e,t){const n=document.getElementById("font-increase");k(n,()=>{De(xe,t,e)},()=>{ie(t)},ze)}function At(e,t){const n=document.getElementById("font-decrease");k(n,()=>{De(-xe,t,e)},()=>{ie(t)},ze)}function Nt(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");b(o,n)}function De(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let i=Number.parseFloat(o.substring(0,o.length-2))+e;I(Re,Te,i)&&(b(n,i),t.style.fontSize=i+"px")}function Ht(e){const t=l(Ce);if(h(t)){e.style.fontSize=t+"px";return}}function ie(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){a(Ce,n);return}}const J=1,Me=10,Oe=10,Pe=.01;let u=null;function _t(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Tt(e,t),zt(e,t),Rt(e,t)}function Rt(e,t){e.addEventListener("change",n=>{const o=n.target.value;h(o)&&I(J,Me,o)?(t.style.lineHeight=o,u=Number.parseFloat(o),ce(u)):(u=null,t.style.lineHeight="normal",ye(T))})}function Tt(e,t){const n=document.getElementById("line-height-increase");k(n,()=>{We(Pe,t,e)},()=>{ce(u)},Oe)}function zt(e,t){const n=document.getElementById("line-height-decrease");k(n,()=>{We(-Pe,t,e)},()=>{ce(u)},Oe)}function We(e,t,n){let o;u?o=u+e:o=J+e,I(J,Me,o)&&(u=o,b(n,u),t.style.lineHeight=u)}function xt(){const e=l(T);if(!h(e)){u=null;return}const t=document.getElementById("line-height-input");u=Number.parseFloat(e),b(t,e)}function Dt(e){const t=l(T);if(h(t)){u=Number.parseFloat(t),e.style.lineHeight=u;return}u=null}function ce(e){if(h(e)){a(T,e);return}}function Mt(e){const t=document.getElementById("punjabi");Wt(e,t),Ot(e,t)}function Ot(e,t){t.addEventListener("change",n=>{n.target.checked?(Q(e,"true"),a(V,"true")):(Q(e,"false"),a(V,"false")),y()})}function Q(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function Pt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Wt(e,t){let n=l(V);m(n)||(n="false"),Q(e,n),Pt(t,n)}const ee=1,$e=20,je=10,Ge=.01;let f=null;function $t(){const e=document.getElementById("word-spacing-input"),t=document.getElementById("bani");Gt(e,t),Xt(e,t),jt(e,t)}function jt(e,t){e.addEventListener("change",n=>{let o=n.target.value;o&&(o=Number.parseFloat(o)),h(o)&&I(ee,$e,o)?(t.style.wordSpacing=o+"px",f=Number.parseFloat(o),re(f)):(f=null,t.style.wordSpacing="normal",ye(z))})}function Gt(e,t){const n=document.getElementById("word-spacing-increase");k(n,()=>{Xe(Ge,t,e)},()=>{re(f)},je)}function Xt(e,t){const n=document.getElementById("word-spacing-decrease");k(n,()=>{Xe(-Ge,t,e)},()=>{re(f)},je)}function Xe(e,t,n){let o;f?o=f+e:o=ee+e,I(ee,$e,o)&&(f=o,b(n,f),t.style.wordSpacing=f+"px")}function Ut(){const e=l(z);if(!h(e)){f=null;return}const t=document.getElementById("word-spacing-input");f=Number.parseFloat(e),b(t,e)}function Vt(e){const t=l(z);if(h(t)){f=Number.parseFloat(t),e.style.wordSpacing=f+"px";return}f=null}function re(e){if(h(e)){a(z,e);return}}let A=!1;function Yt(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,Zt(t)})}).catch(n=>{console.log(n)})}let S;function Zt(e){S||(S=document.getElementById("menu")),tn(e)}function Kt(){S||(S=document.getElementById("menu")),A?S.classList.add("menuClose"):S.classList.remove("menuClose"),A=!A}function qt(){document.getElementById("reset-icon").addEventListener("click",()=>{ot(),location.reload()})}function Jt(){document.getElementById("restart-icon").addEventListener("click",()=>{y(1)})}function Qt(e){vt(),_t(),$t(),ct(),Mt(e),St(e),gt(),pt(),dt()}function en(e){Nt(),xt(),Ut(),qe(e)}function tn(e){qt(),Jt(),Qt(e),en(e)}let G=window.innerWidth,X=window.innerHeight;function nn(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&Yt(o,t),rn(t)}).catch(console.error)}function on(e){let t=l(pe),n=l(Be);if(Ae(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,se(e,t,n,o)}}let Ue=0,Ve=0;function cn(e,t){Ae(e,t)&&(a(pe,e),a(Be,t))}function rn(e){const t=document.getElementById("floating-button");on(t);let n=!1,o=!1,c=!1,i=!1,g=!1,x=!1,D,M,ae,le;function C(s,E){return s.closest(`#${E}`)!==null}t.addEventListener("pointerdown",s=>{i=C(s.target,"left-icon"),g=C(s.target,"right-icon"),c=C(s.target,"menu-icon"),x=C(s.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),D=s.clientX,M=s.clientY,ae=t.offsetLeft,le=t.offsetTop,t.setPointerCapture(s.pointerId)}),t.addEventListener("pointermove",s=>{if(n){const E=s.clientX-D,p=s.clientY-M;if(Math.abs(E)>v||Math.abs(p)>v){const O=t.offsetWidth;t.offsetHeight;let P=ae+E,Ye=le+p;se(t,P,Ye,O),c=!1,i=!1,g=!1,x=!1,o=!1}}});const v=15;t.addEventListener("pointerup",s=>{const E=s.clientX,p=s.clientY,de=Math.abs(E-D),O=Math.abs(p-M),P=de<=v&&O<=v;o&&P?(c&&Kt(),i&&we(e),g&&Fe(e),x&&ke()):n&&cn(Ue,Ve),n=!1,A||t.classList.add("inactive"),t.releasePointerCapture(s.pointerId)}),it()}function se(e,t,n,o,c){G=window.innerWidth,X=window.innerHeight;const i=o/2,g=10;t-i-g<0&&(t=i+g),t+i+g>G&&(t=G-i-g),n-i-g<0&&(n=i+g),n+i+g>X&&(n=X-i-g),Ue=t,Ve=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function te(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,se(e,t,n,o)}function sn(e){an(e)}function an(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?we(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?Fe(e):(t.key==="F"||t.key==="f")&&ke()})}function ln(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function dn(){const e=document.getElementById("bani");if(!e)return;const t=document.getElementById("floating-button-container");t!=null&&nn(t,e);function n(){Ht(e),Dt(e),Vt(e)}n(),sn(e)}ln(dn);Lt();ft();yt();
