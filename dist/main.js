let D;function _e(e){if(D==null)return D=e.classList.contains("enable-para"),D}let C="";function ze(e){return C!=""||(C=e.getAttribute("data-bani-name")||""),C}let r=1,a=r,j,h="d-block",I;function Te(e){I=ze(e),r=parseInt(localStorage.getItem("currentShabadStart_"+I))||1,a=r,j=e,_e(e)&&(h="d-inline"),se(e)}function Pe(e){if(r<=1)return;Me(),a=r-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){r--;const o=document.getElementById("shabad_"+r);if(!o){r++;break}if(o.classList.add(h),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(h),r++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+I,r)}function Me(){let t=r,n=Math.max(a,r);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(h),t-r>500)break;t++}}function xe(){let t=r;for(r=a+1;t<=a;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(h),t-r>500)break;t++}}function De(e){if(!document.getElementById("shabad_"+(a+1)))return;xe(),a=r;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const c=document.getElementById("shabad_"+a);if(!c)break;if(c.classList.add(h),e.getBoundingClientRect().height>window.innerHeight){c.classList.remove(h),a--;break}if(a++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+I,r)}function se(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+a);if(!o)break;if(o.classList.add(h),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(h),a--;break}if(a++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+I,r)}function b(e){j&&(Oe(),e&&(r=e),a=r,se(j))}function Oe(){let e=r;const t=500;let n=0;for(;e<=a;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(h),e++,n>t)break;n++}}function ae(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{b(),Z()}):document.documentElement.requestFullscreen().then(()=>{b(),Z()})}const le="floatingButtonX",ue="floatingButtonY";function d(e,t){localStorage.setItem(e,t)}function q(e){localStorage.removeItem(e)}function u(e){return localStorage.getItem(e)}const de="fontSize",A="lineHeight",We="columnWidth",fe="align",G="english",X="punjabi",v="darkMode",w="fontColor",H="backgroundColor";function je(){localStorage.clear()}function ge(e){Pe(e)}function he(e){De(e)}function Ge(){window.addEventListener("resize",()=>{Z()})}function m(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function me(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function N(e,t,n){return n>=e&&n<=t}function g(e){return e&&typeof e=="string"&&e.length>0}function Xe(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),c=document.getElementById("bani");Ye(e,t,n,o,c),$e(e,t,n,o,c)}function $e(e,t,n,o,c){e.addEventListener("change",i=>{S("start",i.target.checked,c)}),t.addEventListener("change",i=>{S("center",i.target.checked,c)}),n.addEventListener("change",i=>{S("end",i.target.checked,c)}),o.addEventListener("change",i=>{S("justify",i.target.checked,c)})}function S(e,t,n){!t&&!g(e)||(n.style.textAlign=e,Ue(e))}function Ue(e){g(e)&&d(fe,e)}function Ve(e,t,n,o,c,i){switch(c){case"start":i.style.textAlign=c,e.checked=!0;break;case"end":i.style.textAlign=c,n.checked=!0;break;case"center":i.style.textAlign=c,t.checked=!0;break;case"justify":i.style.textAlign=c,o.checked=!0;break}}function Ye(e,t,n,o,c){const i=u(fe);g(i)&&Ve(e,t,n,o,i,c)}function Ke(){const e=document.getElementById("background-color");qe(e),Ze(e),Je(e)}function Ze(e){e.addEventListener("change",t=>{Le(t.target.value),d(H,t.target.value)})}function Le(e){document.documentElement.style.setProperty("--background-color",e)}function Ee(e,t){e.value=t}function qe(e){let t=u(H);g(t)&&Ee(e,t)}const ie="#ffffff";function Je(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",ie),q(H),Ee(e,ie)})}function Qe(){let e=u(H);g(e)&&Le(e)}function et(){const e=document.getElementById("dark-mode");nt(e),tt(e)}function tt(e){e.addEventListener("change",t=>{t.target.checked?($("true"),d(v,"true")):($("false"),d(v,"false"))})}function $(e){e==="true"?F(!0):e==="false"&&F(!1)}function U(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function nt(e){let t=u(v);g(t)||(t="false"),U(e,t)}function ot(){let e=u(v);g(e)||(e="false"),$(e)}const it="#121212",ct="#E0E0E0",rt="#ffffff",st="#000000";function F(e){if(e){document.documentElement.style.setProperty("--font-color",ct),document.documentElement.style.setProperty("--background-color",it);return}document.documentElement.style.setProperty("--font-color",st),document.documentElement.style.setProperty("--background-color",rt)}const at=window.matchMedia("(prefers-color-scheme: dark)");at.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(F(!0),U(t,"true")):(F(!1),U(t,"false"))});function lt(e){const t=document.getElementById("english");ft(e,t),ut(e,t)}function ut(e,t){t.addEventListener("change",n=>{n.target.checked?(V(e,"true"),d(X,"true")):(V(e,"false"),d(X,"false")),b()})}function V(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function dt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function ft(e,t){let n=u(X);g(n)||(n="false"),V(e,n),dt(t,n)}function gt(){const e=document.getElementById("font-color");mt(e),ht(e),Lt(e)}function ht(e){e.addEventListener("change",t=>{ye(t.target.value),d(w,t.target.value)})}function ye(e){document.documentElement.style.setProperty("--font-color",e)}function Ie(e,t){e.value=t}function mt(e){let t=u(w);g(t)&&Ie(e,t)}const ce="#000000";function Lt(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",ce),q(w),Ie(e,ce)})}function Et(){let e=u(w);g(e)&&ye(e)}function R(e,t){e.value=Number.parseFloat(t).toFixed(2)}let be;function yt(e,t){be=setInterval(()=>{e()},t)}function re(e){clearInterval(be),e()}function _(e,t,n,o){e.addEventListener("pointerdown",c=>{yt(()=>{t()},o)}),e.addEventListener("pointerup",c=>{re(()=>{n()})}),e.addEventListener("pointerleave",c=>{re(()=>{n()})})}const ke=1,Be=200,Ce=1,Se=.04;function It(){const e=document.getElementById("font-input"),t=document.getElementById("bani");kt(e,t),Bt(e,t),bt(e,t)}function bt(e,t){e.addEventListener("change",n=>{m(n.target.value)&&N(ke,Be,n.target.value)&&(t.style.fontSize=n.target.value+"px",J(t))})}function kt(e,t){const n=document.getElementById("font-increase");_(n,()=>{pe(Se,t,e)},()=>{J(t)},Ce)}function Bt(e,t){const n=document.getElementById("font-decrease");_(n,()=>{pe(-Se,t,e)},()=>{J(t)},Ce)}function Ct(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");R(o,n)}function pe(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let i=Number.parseFloat(o.substring(0,o.length-2))+e;N(ke,Be,i)&&(R(n,i),t.style.fontSize=i+"px")}function St(e){const t=u(de);if(m(t)){e.style.fontSize=t+"px";return}}function J(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(m(n)){d(de,n);return}}const Y=1,ve=10,Fe=10,Ae=.01;let l=null;function pt(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Ft(e,t),At(e,t),vt(e,t)}function vt(e,t){e.addEventListener("change",n=>{const o=n.target.value;m(o)&&N(Y,ve,o)?(t.style.lineHeight=o,l=Number.parseFloat(o),Q(l)):(l=null,t.style.lineHeight="normal",q(A))})}function Ft(e,t){const n=document.getElementById("line-height-increase");_(n,()=>{we(Ae,t,e)},()=>{Q(l)},Fe)}function At(e,t){const n=document.getElementById("line-height-decrease");_(n,()=>{we(-Ae,t,e)},()=>{Q(l)},Fe)}function we(e,t,n){let o;l?o=l+e:o=Y+e,N(Y,ve,o)&&(l=o,R(n,l),t.style.lineHeight=l)}function wt(){const e=u(A);if(!m(e)){l=null;return}const t=document.getElementById("line-height-input");l=Number.parseFloat(e),R(t,e)}function Ht(e){const t=u(A);if(m(t)){l=Number.parseFloat(t),e.style.lineHeight=l;return}l=null}function Q(e){if(m(e)){d(A,e);return}}function Nt(e){const t=document.getElementById("punjabi");zt(e,t),Rt(e,t)}function Rt(e,t){t.addEventListener("change",n=>{n.target.checked?(K(e,"true"),d(G,"true")):(K(e,"false"),d(G,"false")),b()})}function K(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function _t(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function zt(e,t){let n=u(G);g(n)||(n="false"),K(e,n),_t(t,n)}let p=!1;function Tt(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,Pt(t)})}).catch(n=>{console.log(n)})}let E;function Pt(e){E||(E=document.getElementById("menu")),jt(e)}function Mt(){E||(E=document.getElementById("menu")),p?E.classList.add("menuClose"):E.classList.remove("menuClose"),p=!p}function xt(){document.getElementById("reset-icon").addEventListener("click",()=>{je(),location.reload()})}function Dt(){document.getElementById("restart-icon").addEventListener("click",()=>{b(1)})}function Ot(e){It(),pt(),Xe(),Nt(e),lt(e),et(),gt(),Ke()}function Wt(e){Ct(),wt(),Te(e)}function jt(e){xt(),Dt(),Ot(e),Wt(e)}let O=window.innerWidth,W=window.innerHeight;function Gt(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&Tt(o,t),Ut(t)}).catch(console.error)}function Xt(e){let t=u(le),n=u(ue);if(me(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,ee(e,t,n,o)}}let He=0,Ne=0;function $t(e,t){me(e,t)&&(d(le,e),d(ue,t))}function Ut(e){const t=document.getElementById("floating-button");Xt(t);let n=!1,o=!1,c=!1,i=!1,f=!1,z=!1,T,P,te,ne;function k(s,L){return s.closest(`#${L}`)!==null}t.addEventListener("pointerdown",s=>{i=k(s.target,"left-icon"),f=k(s.target,"right-icon"),c=k(s.target,"menu-icon"),z=k(s.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),T=s.clientX,P=s.clientY,te=t.offsetLeft,ne=t.offsetTop,t.setPointerCapture(s.pointerId)}),t.addEventListener("pointermove",s=>{if(n){const L=s.clientX-T,y=s.clientY-P;if(Math.abs(L)>B||Math.abs(y)>B){const M=t.offsetWidth;t.offsetHeight;let x=te+L,Re=ne+y;ee(t,x,Re,M),c=!1,i=!1,f=!1,z=!1,o=!1}}});const B=15;t.addEventListener("pointerup",s=>{const L=s.clientX,y=s.clientY,oe=Math.abs(L-T),M=Math.abs(y-P),x=oe<=B&&M<=B;o&&x?(c&&Mt(),i&&ge(e),f&&he(e),z&&ae()):n&&$t(He,Ne),n=!1,p||t.classList.add("inactive"),t.releasePointerCapture(s.pointerId)}),Ge()}function ee(e,t,n,o,c){O=window.innerWidth,W=window.innerHeight;const i=o/2,f=10;t-i-f<0&&(t=i+f),t+i+f>O&&(t=O-i-f),n-i-f<0&&(n=i+f),n+i+f>W&&(n=W-i-f),He=t,Ne=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function Z(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,ee(e,t,n,o)}function Vt(e){const t=u(We);if(m(t)){e.style.columnWidth=t+"vw";return}}function Yt(e){Kt(e)}function Kt(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?ge(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?he(e):(t.key==="F"||t.key==="f")&&ae()})}function Zt(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function qt(){const e=document.getElementById("bani"),t=document.getElementById("floating-button-container");t!=null&&Gt(t,e);function n(){St(e),Vt(e),Ht(e)}n(),Yt(e)}Zt(qt);ot();Et();Qe();
