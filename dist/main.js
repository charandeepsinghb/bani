let x;function Se(e){if(x==null)return x=e.classList.contains("enable-para"),x}let p="";function be(e){return p!=""||(p=e.getAttribute("data-bani-name")||""),p}let c=1,r=c,P,d="d-block",B;function ye(e){B=be(e),c=parseInt(localStorage.getItem("currentShabadStart_"+B))||1,r=c,P=e,Se(e)&&(d="d-inline"),J(e)}function Ee(e){if(c<=1){console.log("No more previous elements to show.");return}pe(),r=c-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){c--;const i=document.getElementById("shabad_"+c);if(!i){c++;break}if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),c++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+B,c),console.log("Current range:",c,r)}function pe(){let t=c,n=Math.max(r,c);for(;t<=n;){const i=document.getElementById("shabad_"+t);if(i&&i.classList.remove(d),t-c>500)break;t++}}function ke(){let t=c;for(c=r+1;t<=r;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(d),t-c>500)break;t++}}function we(e){if(!document.getElementById("shabad_"+(r+1))){console.log("No more next elements to show.");return}ke(),r=c;const n=500;let i=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const s=document.getElementById("shabad_"+r);if(!s)break;if(s.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){s.classList.remove(d),r--;break}if(r++,i>n)break;i++}localStorage.setItem("currentShabadStart_"+B,c),console.log("Current range:",c,r)}function J(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+r);if(!i)break;if(i.classList.add(d),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(d),r--;break}if(r++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+B,c),console.log("Current range:",c,r)}function S(e){P&&(Ce(),e&&(c=e),r=c,J(P))}function Ce(){let e=c;const t=500;let n=0;for(;e<=r;){const i=document.getElementById("shabad_"+e);if(i&&i.classList.remove(d),e++,n>t)break;n++}}function Fe(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{S()}):document.documentElement.requestFullscreen().then(()=>{S()})}const K="floatingButtonX",Q="floatingButtonY";function f(e,t){localStorage.setItem(e,t)}function ve(e){localStorage.removeItem(e)}function g(e){return localStorage.getItem(e)}const ee="fontSize",C="lineHeight",He="columnWidth",te="align",D="english",M="punjabi";function Ne(){localStorage.clear()}function ne(e){Ee(e)}function ie(e){we(e)}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function oe(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function F(e,t,n){return n>=e&&n<=t}function b(e){return e&&typeof e=="string"&&e.length>0}function Ae(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),i=document.getElementById("justifyAlign"),s=document.getElementById("bani");Te(e,t,n,i,s),_e(e,t,n,i,s)}function _e(e,t,n,i,s){e.addEventListener("change",o=>{k("start",o.target.checked,s)}),t.addEventListener("change",o=>{k("center",o.target.checked,s)}),n.addEventListener("change",o=>{k("end",o.target.checked,s)}),i.addEventListener("change",o=>{k("justify",o.target.checked,s)})}function k(e,t,n){!t&&!b(e)||(n.style.textAlign=e,ze(e))}function ze(e){b(e)&&f(te,e)}function Re(e,t,n,i,s,o){switch(s){case"start":o.style.textAlign=s,e.checked=!0;break;case"end":o.style.textAlign=s,n.checked=!0;break;case"center":o.style.textAlign=s,t.checked=!0;break;case"justify":o.style.textAlign=s,i.checked=!0;break}}function Te(e,t,n,i,s){const o=g(te);b(o)&&Re(e,t,n,i,o,s)}function xe(e){const t=document.getElementById("english");Me(e,t),Pe(e,t)}function Pe(e,t){t.addEventListener("change",n=>{n.target.checked?(O(e,"true"),f(M,"true")):(O(e,"false"),f(M,"false")),S()})}function O(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function De(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Me(e,t){let n=g(M);b(n)||(n="false"),O(e,n),De(t,n)}function v(e,t){e.value=Number.parseFloat(t).toFixed(2)}let se;function Oe(e,t){se=setInterval(()=>{e()},t)}function Y(e){clearInterval(se),e()}function H(e,t,n,i){e.addEventListener("pointerdown",s=>{Oe(()=>{t()},i)}),e.addEventListener("pointerup",s=>{Y(()=>{n()})}),e.addEventListener("pointerleave",s=>{Y(()=>{n()})})}const ce=1,re=200,ae=10,le=.2;function We(){const e=document.getElementById("font-input"),t=document.getElementById("bani");Ve(e,t),Xe(e,t),je(e,t)}function je(e,t){e.addEventListener("change",n=>{h(n.target.value)&&F(ce,re,n.target.value)&&(t.style.fontSize=n.target.value+"px",j(t))})}function Ve(e,t){const n=document.getElementById("font-increase");H(n,()=>{ue(le,t,e)},()=>{j(t)},ae)}function Xe(e,t){const n=document.getElementById("font-decrease");H(n,()=>{ue(-le,t,e)},()=>{j(t)},ae)}function $e(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),i=document.getElementById("font-input");v(i,n)}function ue(e,t,n){const i=window.getComputedStyle(t).getPropertyValue("font-size");let o=Number.parseFloat(i.substring(0,i.length-2))+e;F(ce,re,o)&&(v(n,o),t.style.fontSize=o+"px")}function Ue(e){const t=g(ee);if(h(t)){e.style.fontSize=t+"px";return}}function j(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){f(ee,n);return}}const de=.8,fe=10,ge=10,he=.1;let l=null;function Ye(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Ze(e,t),qe(e,t),Ge(e,t)}function Ge(e,t){e.addEventListener("change",n=>{const i=n.target.value;h(i)&&F(de,fe,i)?(t.style.lineHeight=i,l=Number.parseFloat(i),V(l)):(l=null,t.style.lineHeight="normal",ve(C))})}function Ze(e,t){const n=document.getElementById("line-height-increase");H(n,()=>{me(he,t,e)},()=>{V(l)},ge)}function qe(e,t){const n=document.getElementById("line-height-decrease");H(n,()=>{me(-he,t,e)},()=>{V(l)},ge)}function me(e,t,n){const i=l+e;F(de,fe,i)&&(l=i,v(n,l),t.style.lineHeight=l)}function Je(){const e=g(C);if(!h(e)){l=null;return}const t=document.getElementById("line-height-input");l=Number.parseFloat(e),v(t,e)}function Ke(e){const t=g(C);if(h(t)){l=Number.parseFloat(t),e.style.lineHeight=l;return}l=null}function V(e){if(h(e)){f(C,e);return}}function Qe(e){const t=document.getElementById("punjabi");nt(e,t),et(e,t)}function et(e,t){t.addEventListener("change",n=>{n.target.checked?(W(e,"true"),f(D,"true")):(W(e,"false"),f(D,"false")),S()})}function W(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function tt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function nt(e,t){let n=g(D);b(n)||(n="false"),W(e,n),tt(t,n)}let w=!1;function it(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(i=>{e.innerHTML=i,ot(t)})}).catch(n=>{console.log(n)})}let m;function ot(e){m||(m=document.getElementById("menu")),ut(e)}function st(){m||(m=document.getElementById("menu")),w?m.classList.add("menuClose"):m.classList.remove("menuClose"),w=!w}function ct(){document.getElementById("reset-icon").addEventListener("click",()=>{Ne(),location.reload()})}function rt(){document.getElementById("restart-icon").addEventListener("click",()=>{S(1)})}function at(e){We(),Ye(),Ae(),Qe(e),xe(e)}function lt(e){$e(),Je(),ye(e)}function ut(e){ct(),rt(),at(e),lt(e)}const G=window.innerWidth,Z=window.innerHeight;function dt(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const i=document.getElementById("menu-container");i&&it(i,t),ht(t)}).catch(console.error)}function ft(e){let t=g(K),n=g(Q);if(oe(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const i=e.offsetWidth;e.offsetHeight,Be(e,t,n,i)}}let Le=0,Ie=0;function gt(e,t){oe(e,t)&&(f(K,e),f(Q,t))}function ht(e){const t=document.getElementById("floating-button");ft(t);let n=!1,i=!1,s=!1,o=!1,u=!1,N=!1,A,_,X,$;function y(a,L){return a.closest(`#${L}`)!==null}t.addEventListener("pointerdown",a=>{o=y(a.target,"left-icon"),u=y(a.target,"right-icon"),s=y(a.target,"menu-icon"),N=y(a.target,"fullscreen-icon"),i=!0,n=!0,t.classList.remove("inactive"),A=a.clientX,_=a.clientY,X=t.offsetLeft,$=t.offsetTop,t.setPointerCapture(a.pointerId)}),t.addEventListener("pointermove",a=>{if(s=!1,o=!1,u=!1,N=!1,i=!1,n){const L=a.clientX-A,E=a.clientY-_,z=t.offsetWidth;t.offsetHeight;let R=X+L,T=$+E;Be(t,R,T,z)}});const U=5;t.addEventListener("pointerup",a=>{const L=a.clientX,E=a.clientY,z=Math.abs(L-A),R=Math.abs(E-_),T=z<=U&&R<=U;i&&T?(s&&st(),o&&ne(e),u&&ie(e),N&&Fe()):n&&gt(Le,Ie),n=!1,w||t.classList.add("inactive"),t.releasePointerCapture(a.pointerId)})}function Be(e,t,n,i,s){const o=i/2,u=10;t-o-u<0&&(t=o+u),t+o+u>G&&(t=G-o-u),n-o-u<0&&(n=o+u),n+o+u>Z&&(n=Z-o-u),Le=t,Ie=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function mt(e){const t=g(He);if(h(t)){e.style.columnWidth=t+"vw";return}}function Lt(e){It(e)}function It(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?ne(e):(t.key==="ArrowRight"||t.key==="D"||t.key==="d")&&ie(e)})}const I=document.getElementById("bani"),q=document.getElementById("floating-button-container");q!=null&&dt(q,I);function Bt(){Ue(I),mt(I),Ke(I)}Bt();Lt(I);
