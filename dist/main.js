let Y;function st(e){if(Y==null)return Y=e.classList.contains("enable-para"),Y}let _="";function Ae(e){return _!=""||(_=e.getAttribute("data-bani-name")||""),_}let c=1,f=c,J,L="d-block",T;function at(e){T=Ae(e),c=parseInt(localStorage.getItem("currentShabadStart_"+T))||1,f=c,J=e,st(e)&&(L="d-inline"),Fe(e)}function dt(e){if(c<=1)return;lt(),f=c-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){c--;const o=document.getElementById("shabad_"+c);if(!o){c++;break}if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),c++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+T,c)}function lt(){let t=c,n=Math.max(f,c);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(L),t-c>500)break;t++}}function ut(){let t=c;for(c=f+1;t<=f;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(L),t-c>500)break;t++}}function ft(e){if(!document.getElementById("shabad_"+(f+1)))return;ut(),f=c;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+f);if(!i)break;if(i.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(L),f--;break}if(f++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+T,c)}function Fe(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+f);if(!o)break;if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),f--;break}if(f++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+T,c)}function y(e){J&&(gt(),e&&(c=e),f=c,Fe(J))}function gt(){let e=c;const t=500;let n=0;for(;e<=f;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(L),e++,n>t)break;n++}}function Ne(){try{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{y(),ae()}):document.documentElement.requestFullscreen().then(()=>{y(),ae()})}catch{console.warn("Full screen not possible!")}mt()}function mt(){try{AndroidInterface&&AndroidInterface.toggleFullscreen()}catch{console.warn("AndroidInterface.toggleFullscreen Error!")}}const Te="floatingButtonX",He="floatingButtonY";function a(e,t){localStorage.setItem(e,t)}function _e(e){localStorage.removeItem(e)}function d(e){return localStorage.getItem(e)}const Re="fontSize",P="lineHeight",$="wordSpacing",Me="align",Z="punjabi",K="english",z="darkMode",O="fontColor",pe="fontColorSecond",x="backgroundColor",Ie="backgroundColorSecond",de="bookmarks",q="enableSwipe";function ht(){localStorage.clear()}function le(e){dt(e)}function ue(e){ft(e)}function kt(){window.addEventListener("resize",()=>{ae()})}function k(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function ze(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function v(e,t,n){return n>=e&&n<=t}function h(e){return e&&typeof e=="string"&&e.length>0}function Lt(e){return!e||e.length==0}function bt(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),i=document.getElementById("bani");Bt(e,t,n,o,i),pt(e,t,n,o,i)}function pt(e,t,n,o,i){e.addEventListener("change",r=>{R("start",r.target.checked,i)}),t.addEventListener("change",r=>{R("center",r.target.checked,i)}),n.addEventListener("change",r=>{R("end",r.target.checked,i)}),o.addEventListener("change",r=>{R("justify",r.target.checked,i)})}function R(e,t,n){!t&&!h(e)||(n.style.textAlign=e,It(e))}function It(e){h(e)&&a(Me,e)}function Et(e,t,n,o,i,r){switch(i){case"start":r.style.textAlign=i,e.checked=!0;break;case"end":r.style.textAlign=i,n.checked=!0;break;case"center":r.style.textAlign=i,t.checked=!0;break;case"justify":r.style.textAlign=i,o.checked=!0;break}}function Bt(e,t,n,o,i){const r=d(Me);h(r)&&Et(e,t,n,o,r,i)}function St(){const e=document.getElementById("background-color"),t=document.getElementById("background-color-picker-2");Se(e,x),Se(t,Ie),Be(e,x),Be(t,Ie),yt(e),Ee(e),Ee(t)}function Ee(e){e.addEventListener("click",t=>{fe(t.target.value)})}function Be(e,t){e.addEventListener("change",n=>{fe(n.target.value),a(t,n.target.value)})}function fe(e){document.documentElement.style.setProperty("--background-color",e)}function Oe(e,t){e.value=t}function Se(e,t){let n=d(t);h(n)&&Oe(e,n)}const j="#ffffff";function yt(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",j),Oe(e,j),a(x,j)})}function vt(){let e=d(x);h(e)&&fe(e)}function Ct(e,t=3e3){const n=document.getElementById("toast-container");n.textContent=e,n.classList.remove("hide"),n.classList.add("show"),setTimeout(()=>{n.classList.remove("show"),n.classList.add("hide")},t)}let Q=!1,b;function wt(e){const t=document.getElementById("bookmark"),n=document.getElementById("bookmarks-container"),o=Ae(e);b=At(),Ft(n,o),Mt(t,e),Rt(e,n,o),Ot(o),Dt()}function At(e,t){const n=d(de);return h(n)?JSON.parse(n):[]}function Ft(e,t){const n=b.filter(i=>{if(i.baniName==t)return!0});if(Lt(n))return;let o="";for(const i of n){const r=xe(i.shabadPre,i.shabadId);o+=r}e.innerHTML=o}function xe(e,t){return`
    <div id='bookmark_${t}' class="bookmark" data-shabadid='${t}'>
      <a data-shabadid='${t}' href='#' class='bookmark-show' id='bookmark-show_${t}'>${e}</a>
      <button class="icon bookmark-delete" data-shabadid='${t}' id='bookmark-delete_${t}'>
        <span class="material-symbols-outlined" data-shabadid='${t}'>delete</span>
      </button>
    </div>
  `}function Nt(e,t,n,o){const i=e.target.closest(".gurmukhi");if(!Q||!(i!=null&&i.classList.contains("gurmukhi")))return;const r=Tt(i,n,o);r&&(_t(t,r),xt(o,r.shabadId),Pt(r.shabadId),Ht(r),Ct("Bookmark Added",800))}function Tt(e,t,n){const o=e.getAttribute("id"),i=Number.parseInt(o.replace("shabad_",""));for(const s of b)if((s==null?void 0:s.shabadId)==i&&(s==null?void 0:s.baniName)==n)return;if(b.includes(i))return;const r=e.innerText.trim().substring(0,20);return{shabadId:i,shabadPre:r,baniName:n}}function Ht(e){b.push(e);const t=JSON.stringify(b);a(de,t)}function _t(e,t){const n=xe(t.shabadPre,t.shabadId);e.insertAdjacentHTML("beforeend",n)}function Rt(e,t,n){zt(e,o=>{Nt(o,t,e,n)},500)}function Mt(e,t){e.addEventListener("change",n=>{n.target.checked?(Q=!0,t.classList.add("prevent-selection")):(Q=!1,t.classList.remove("prevent-selection"))})}function zt(e,t,n=500){let o;e.addEventListener("mousedown",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("mouseup",()=>clearTimeout(o)),e.addEventListener("mouseleave",()=>clearTimeout(o)),e.addEventListener("touchstart",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("touchend",()=>clearTimeout(o)),e.addEventListener("touchcancel",()=>clearTimeout(o))}function Ot(e){const t=document.getElementsByClassName("bookmark-delete");for(const n of t)n.addEventListener("click",o=>{const i=Number(o.target.getAttribute("data-shabadid"));De(i,e),Pe(i)})}function xt(e,t){document.getElementById("bookmark-delete_"+t).addEventListener("click",o=>{const i=Number(o.target.getAttribute("data-shabadid"));De(i,e),Pe(i)})}function De(e,t){b=b.filter(o=>o.baniName==t&&o.shabadId!=e||o.baniName!=t);const n=JSON.stringify(b);a(de,n)}function Pe(e){document.getElementById("bookmark_"+e).remove()}function Dt(){const e=document.getElementsByClassName("bookmark-show");for(const t of e)$e(t)}function Pt(e){const t=document.getElementById("bookmark-show_"+e);$e(t)}function $e(e){e.addEventListener("click",t=>{const n=t.target.getAttribute("data-shabadid");$t(n)})}function $t(e){y(e)}function Wt(){const e=document.getElementById("dark-mode");Yt(e),Xt(e)}function Xt(e){e.addEventListener("change",t=>{t.target.checked?(ee("true"),a(z,"true")):(ee("false"),a(z,"false"))})}function ee(e){e==="true"?D(!0):e==="false"&&D(!1)}function te(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Yt(e){let t=d(z);h(t)||(t="false"),te(e,t)}function jt(){let e=d(z);h(e)||(e="false"),ee(e)}function D(e){if(e){document.body.classList.add("dark-mode");return}document.body.classList.remove("dark-mode")}const Ut=window.matchMedia("(prefers-color-scheme: dark)");Ut.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(D(!0),te(t,"true"),Gt()):(D(!1),te(t,"false"),Vt())});function Gt(){try{AndroidInterface&&AndroidInterface.setStatusBarIconsLight(!1)}catch{console.warn("AndroidInterface.setStatusBarIconsLight false Error!")}}function Vt(){try{AndroidInterface&&AndroidInterface.setStatusBarIconsLight(!0)}catch{console.warn("AndroidInterface.setStatusBarIconsLight true Error!")}}function Jt(e){const t=document.getElementById("english");qt(e,t),Zt(e,t)}function Zt(e,t){t.addEventListener("change",n=>{n.target.checked?(ne(e,"true"),a(K,"true")):(ne(e,"false"),a(K,"false")),y()})}function ne(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function Kt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function qt(e,t){let n=d(K);h(n)||(n="false"),ne(e,n),Kt(t,n)}function Qt(e,t){let n=0,o=0,i=!1;const r=50,s=100,A=500;let I=0;e.style.touchAction="pan-y",e.addEventListener("pointerdown",function(u){u.pointerType!=="touch"&&u.pointerType!=="pen"||(n=u.clientX,o=u.clientY,I=Date.now(),i=!0)}),e.addEventListener("pointermove",function(u){if(!i)return;const p=u.clientX-n,E=u.clientY-o;Math.abs(p)>Math.abs(E)&&u.preventDefault()},{passive:!1}),e.addEventListener("pointerup",function(u){if(!i)return;i=!1;const p=u.clientX-n,E=u.clientY-o;Date.now()-I<=A&&Math.abs(E)<=s&&Math.abs(p)>=r&&t(p>0?"right":"left")}),e.addEventListener("pointercancel",()=>{i=!1})}const oe={enabled:!0};function en(e){Qt(e,t=>{oe.enabled&&(t==="left"?ue(e):t==="right"&&le(e))})}function tn(){const e=document.getElementById("enableSwipe");rn(e),nn(e)}function nn(e){e.addEventListener("change",t=>{t.target.checked?(ie("true"),a(q,"true")):(ie("false"),a(q,"false"))})}function ie(e){e==="true"?oe.enabled=!0:e==="false"&&(oe.enabled=!1)}function on(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function rn(e){let t=d(q);h(t)||(t="true"),ie(t),on(e,t)}function cn(){const e=document.getElementById("font-color"),t=document.getElementById("font-color-picker-2");Ce(e,O),Ce(t,pe),ve(e,O),ve(t,pe),sn(e),ye(e),ye(t)}function ye(e){e.addEventListener("click",t=>{ge(t.target.value)})}function ve(e,t){e.addEventListener("change",n=>{ge(n.target.value),a(t,n.target.value)})}function ge(e){document.documentElement.style.setProperty("--font-color",e)}function We(e,t){e.value=t}function Ce(e,t){let n=d(t);h(n)&&We(e,n)}const U="#000000";function sn(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",U),We(e,U),a(O,U)})}function an(){let e=d(O);h(e)&&ge(e)}function C(e,t){e.value=Number.parseFloat(t).toFixed(2)}let Xe;function dn(e,t){Xe=setInterval(()=>{e()},t)}function ln(e){clearInterval(Xe),e()}function w(e,t,n,o){e.addEventListener("pointerdown",r=>{dn(()=>{t()},o)});const i=()=>{ln(n)};e.addEventListener("pointerup",i),e.addEventListener("pointerleave",i),e.addEventListener("pointercancel",i)}const Ye=1,je=200,Ue=1,Ge=.04;function un(){const e=document.getElementById("font-input"),t=document.getElementById("bani");gn(e,t),mn(e,t),fn(e,t)}function fn(e,t){e.addEventListener("change",n=>{k(n.target.value)&&v(Ye,je,n.target.value)&&(t.style.fontSize=n.target.value+"px",me(t))})}function gn(e,t){const n=document.getElementById("font-increase");w(n,()=>{Ve(Ge,t,e)},()=>{me(t)},Ue)}function mn(e,t){const n=document.getElementById("font-decrease");w(n,()=>{Ve(-Ge,t,e)},()=>{me(t)},Ue)}function hn(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");C(o,n)}function Ve(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let r=Number.parseFloat(o.substring(0,o.length-2))+e;v(Ye,je,r)&&(C(n,r),t.style.fontSize=r+"px")}function kn(e){const t=d(Re);if(k(t)){e.style.fontSize=t+"px";return}}function me(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(k(n)){a(Re,n);return}}const re=1,Je=10,Ze=10,Ke=.01;let g=null;function Ln(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");pn(e,t),In(e,t),bn(e,t)}function bn(e,t){e.addEventListener("change",n=>{const o=n.target.value;k(o)&&v(re,Je,o)?(t.style.lineHeight=o,g=Number.parseFloat(o),he(g)):(g=null,t.style.lineHeight="normal",_e(P))})}function pn(e,t){const n=document.getElementById("line-height-increase");w(n,()=>{qe(Ke,t,e)},()=>{he(g)},Ze)}function In(e,t){const n=document.getElementById("line-height-decrease");w(n,()=>{qe(-Ke,t,e)},()=>{he(g)},Ze)}function qe(e,t,n){let o;g?o=g+e:o=re+e,v(re,Je,o)&&(g=o,C(n,g),t.style.lineHeight=g)}function En(){const e=d(P);if(!k(e)){g=null;return}const t=document.getElementById("line-height-input");g=Number.parseFloat(e),C(t,e)}function Bn(e){const t=d(P);if(k(t)){g=Number.parseFloat(t),e.style.lineHeight=g;return}g=null}function he(e){if(k(e)){a(P,e);return}}function Sn(e){const t=document.getElementById("punjabi");Cn(e,t),yn(e,t)}function yn(e,t){t.addEventListener("change",n=>{n.target.checked?(ce(e,"true"),a(Z,"true")):(ce(e,"false"),a(Z,"false")),y()})}function ce(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function vn(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Cn(e,t){let n=d(Z);h(n)||(n="false"),ce(e,n),vn(t,n)}const se=1,Qe=20,et=10,tt=.01;let m=null;function wn(){const e=document.getElementById("word-spacing-input"),t=document.getElementById("bani");Fn(e,t),Nn(e,t),An(e,t)}function An(e,t){e.addEventListener("change",n=>{let o=n.target.value;o&&(o=Number.parseFloat(o)),k(o)&&v(se,Qe,o)?(t.style.wordSpacing=o+"px",m=Number.parseFloat(o),ke(m)):(m=null,t.style.wordSpacing="normal",_e($))})}function Fn(e,t){const n=document.getElementById("word-spacing-increase");w(n,()=>{nt(tt,t,e)},()=>{ke(m)},et)}function Nn(e,t){const n=document.getElementById("word-spacing-decrease");w(n,()=>{nt(-tt,t,e)},()=>{ke(m)},et)}function nt(e,t,n){let o;m?o=m+e:o=se+e,v(se,Qe,o)&&(m=o,C(n,m),t.style.wordSpacing=m+"px")}function Tn(){const e=d($);if(!k(e)){m=null;return}const t=document.getElementById("word-spacing-input");m=Number.parseFloat(e),C(t,e)}function Hn(e){const t=d($);if(k(t)){m=Number.parseFloat(t),e.style.wordSpacing=m+"px";return}m=null}function ke(e){if(k(e)){a($,e);return}}let M=!1;function _n(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,Rn(t)})}).catch(n=>{console.log(n)})}let S;function Rn(e){S||(S=document.getElementById("menu")),Pn(e)}function Mn(){S||(S=document.getElementById("menu")),M?S.classList.add("menuClose"):S.classList.remove("menuClose"),M=!M}function zn(){document.getElementById("reset-icon").addEventListener("click",()=>{ht(),location.reload()})}function On(){document.getElementById("restart-icon").addEventListener("click",()=>{y(1)})}function xn(e){un(),Ln(),wn(),bt(),Sn(e),Jt(e),tn(),Wt(),cn(),St(),wt(e)}function Dn(e){hn(),En(),Tn(),at(e)}function Pn(e){zn(),On(),xn(e),Dn(e)}let we;const $n=5*1e3;function Wn(){const e=document.querySelector(".hide-on-inactive");e&&e.classList.add("hidden")}function Xn(){const e=document.querySelector(".hide-on-inactive");e&&e.classList.remove("hidden")}function ot(){clearTimeout(we),Xn(),we=setTimeout(Wn,$n)}["mousemove","mousedown","keypress","keydown","touchstart","scroll"].forEach(e=>{window.addEventListener(e,ot)});let G=window.innerWidth,V=window.innerHeight;function Yn(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&_n(o,t),Gn(t),ot()}).catch(console.error)}function jn(e){let t=d(Te),n=d(He);if(ze(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,Le(e,t,n,o)}}let it=0,rt=0;function Un(e,t){ze(e,t)&&(a(Te,e),a(He,t))}function Gn(e){const t=document.getElementById("floating-button");jn(t);let n=!1,o=!1,i=!1,r=!1,s=!1,A=!1,I,u,p,E;function F(l,B){return l.closest(`#${B}`)!==null}t.addEventListener("pointerdown",l=>{r=F(l.target,"left-icon"),s=F(l.target,"right-icon"),i=F(l.target,"menu-icon"),A=F(l.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),I=l.clientX,u=l.clientY,p=t.offsetLeft,E=t.offsetTop,t.setPointerCapture(l.pointerId)}),t.addEventListener("pointermove",l=>{if(n){const B=l.clientX-I,N=l.clientY-u;if(Math.abs(B)>H||Math.abs(N)>H){const W=t.offsetWidth;t.offsetHeight;let X=p+B,ct=E+N;Le(t,X,ct,W),i=!1,r=!1,s=!1,A=!1,o=!1}}});const H=15;t.addEventListener("pointerup",l=>{const B=l.clientX,N=l.clientY,be=Math.abs(B-I),W=Math.abs(N-u),X=be<=H&&W<=H;o&&X?(i&&Mn(),r&&le(e),s&&ue(e),A&&Ne()):n&&Un(it,rt),n=!1,M||t.classList.add("inactive"),t.releasePointerCapture(l.pointerId)}),kt()}function Le(e,t,n,o,i){G=window.innerWidth,V=window.innerHeight;const r=o/2,s=10;t-r-s<0&&(t=r+s),t+r+s>G&&(t=G-r-s),n-r-s<0&&(n=r+s),n+r+s>V&&(n=V-r-s),it=t,rt=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function ae(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,Le(e,t,n,o)}function Vn(e){Jn(e)}function Jn(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?le(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?ue(e):(t.key==="F"||t.key==="f")&&Ne()})}function Zn(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function Kn(){const e=document.getElementById("bani");if(!e)return;const t=document.getElementById("floating-button-container");t!=null&&Yn(t,e);function n(){kn(e),Bn(e),Hn(e)}n(),Vn(e),en(e)}Zn(Kn);jt();vt();an();
