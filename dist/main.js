let W;function We(e){if(W==null)return W=e.classList.contains("enable-para"),W}let w="";function $e(e){return w!=""||(w=e.getAttribute("data-bani-name")||""),w}let r=1,u=r,V,L="d-block",y;function je(e){y=$e(e),r=parseInt(localStorage.getItem("currentShabadStart_"+y))||1,u=r,V=e,We(e)&&(L="d-inline"),ue(e)}function Ge(e){if(r<=1)return;Xe(),u=r-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){r--;const o=document.getElementById("shabad_"+r);if(!o){r++;break}if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),r++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+y,r)}function Xe(){let t=r,n=Math.max(u,r);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(L),t-r>500)break;t++}}function Ve(){let t=r;for(r=u+1;t<=u;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(L),t-r>500)break;t++}}function Ue(e){if(!document.getElementById("shabad_"+(u+1)))return;Ve(),u=r;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const c=document.getElementById("shabad_"+u);if(!c)break;if(c.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){c.classList.remove(L),u--;break}if(u++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+y,r)}function ue(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+u);if(!o)break;if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),u--;break}if(u++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+y,r)}function k(e){V&&(Ye(),e&&(r=e),u=r,ue(V))}function Ye(){let e=r;const t=500;let n=0;for(;e<=u;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(L),e++,n>t)break;n++}}function de(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{k(),te()}):document.documentElement.requestFullscreen().then(()=>{k(),te()})}const fe="floatingButtonX",ge="floatingButtonY";function a(e,t){localStorage.setItem(e,t)}function he(e){localStorage.removeItem(e)}function l(e){return localStorage.getItem(e)}const me="fontSize",R="lineHeight",_="wordSpacing",Le="align",U="english",Y="punjabi",N="darkMode",z="fontColor",T="backgroundColor";function Ze(){localStorage.clear()}function Ee(e){Ge(e)}function Ie(e){Ue(e)}function Ke(){window.addEventListener("resize",()=>{te()})}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function Se(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function S(e,t,n){return n>=e&&n<=t}function m(e){return e&&typeof e=="string"&&e.length>0}function qe(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),c=document.getElementById("bani");tt(e,t,n,o,c),Je(e,t,n,o,c)}function Je(e,t,n,o,c){e.addEventListener("change",i=>{F("start",i.target.checked,c)}),t.addEventListener("change",i=>{F("center",i.target.checked,c)}),n.addEventListener("change",i=>{F("end",i.target.checked,c)}),o.addEventListener("change",i=>{F("justify",i.target.checked,c)})}function F(e,t,n){!t&&!m(e)||(n.style.textAlign=e,Qe(e))}function Qe(e){m(e)&&a(Le,e)}function et(e,t,n,o,c,i){switch(c){case"start":i.style.textAlign=c,e.checked=!0;break;case"end":i.style.textAlign=c,n.checked=!0;break;case"center":i.style.textAlign=c,t.checked=!0;break;case"justify":i.style.textAlign=c,o.checked=!0;break}}function tt(e,t,n,o,c){const i=l(Le);m(i)&&et(e,t,n,o,i,c)}function nt(){const e=document.getElementById("background-color");it(e),ot(e),ct(e)}function ot(e){e.addEventListener("change",t=>{pe(t.target.value),a(T,t.target.value)})}function pe(e){document.documentElement.style.setProperty("--background-color",e)}function be(e,t){e.value=t}function it(e){let t=l(T);m(t)&&be(e,t)}const $="#ffffff";function ct(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",$),be(e,$),a(T,$)})}function rt(){let e=l(T);m(e)&&pe(e)}function st(){const e=document.getElementById("dark-mode");lt(e),at(e)}function at(e){e.addEventListener("change",t=>{t.target.checked?(Z("true"),a(N,"true")):(Z("false"),a(N,"false"))})}function Z(e){e==="true"?H(!0):e==="false"&&H(!1)}function K(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function lt(e){let t=l(N);m(t)||(t="false"),K(e,t)}function ut(){let e=l(N);m(e)||(e="false"),Z(e)}function H(e){if(e){document.body.classList.add("dark-mode");return}document.body.classList.remove("dark-mode")}const dt=window.matchMedia("(prefers-color-scheme: dark)");dt.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(H(!0),K(t,"true")):(H(!1),K(t,"false"))});function ft(e){const t=document.getElementById("english");mt(e,t),gt(e,t)}function gt(e,t){t.addEventListener("change",n=>{n.target.checked?(q(e,"true"),a(Y,"true")):(q(e,"false"),a(Y,"false")),k()})}function q(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function ht(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function mt(e,t){let n=l(Y);m(n)||(n="false"),q(e,n),ht(t,n)}function Lt(){const e=document.getElementById("font-color");It(e),Et(e),St(e)}function Et(e){e.addEventListener("change",t=>{Be(t.target.value),a(z,t.target.value)})}function Be(e){document.documentElement.style.setProperty("--font-color",e)}function ye(e,t){e.value=t}function It(e){let t=l(z);m(t)&&ye(e,t)}const j="#000000";function St(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",j),ye(e,j),a(z,j)})}function pt(){let e=l(z);m(e)&&Be(e)}function p(e,t){e.value=Number.parseFloat(t).toFixed(2)}let ke;function bt(e,t){ke=setInterval(()=>{e()},t)}function le(e){clearInterval(ke),e()}function b(e,t,n,o){e.addEventListener("pointerdown",c=>{bt(()=>{t()},o)}),e.addEventListener("pointerup",c=>{le(()=>{n()})}),e.addEventListener("pointerleave",c=>{le(()=>{n()})})}const Ce=1,ve=200,we=1,Fe=.04;function Bt(){const e=document.getElementById("font-input"),t=document.getElementById("bani");kt(e,t),Ct(e,t),yt(e,t)}function yt(e,t){e.addEventListener("change",n=>{h(n.target.value)&&S(Ce,ve,n.target.value)&&(t.style.fontSize=n.target.value+"px",ne(t))})}function kt(e,t){const n=document.getElementById("font-increase");b(n,()=>{Ae(Fe,t,e)},()=>{ne(t)},we)}function Ct(e,t){const n=document.getElementById("font-decrease");b(n,()=>{Ae(-Fe,t,e)},()=>{ne(t)},we)}function vt(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");p(o,n)}function Ae(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let i=Number.parseFloat(o.substring(0,o.length-2))+e;S(Ce,ve,i)&&(p(n,i),t.style.fontSize=i+"px")}function wt(e){const t=l(me);if(h(t)){e.style.fontSize=t+"px";return}}function ne(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){a(me,n);return}}const J=1,Ne=10,He=10,Re=.01;let d=null;function Ft(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Nt(e,t),Ht(e,t),At(e,t)}function At(e,t){e.addEventListener("change",n=>{const o=n.target.value;h(o)&&S(J,Ne,o)?(t.style.lineHeight=o,d=Number.parseFloat(o),oe(d)):(d=null,t.style.lineHeight="normal",he(R))})}function Nt(e,t){const n=document.getElementById("line-height-increase");b(n,()=>{_e(Re,t,e)},()=>{oe(d)},He)}function Ht(e,t){const n=document.getElementById("line-height-decrease");b(n,()=>{_e(-Re,t,e)},()=>{oe(d)},He)}function _e(e,t,n){let o;d?o=d+e:o=J+e,S(J,Ne,o)&&(d=o,p(n,d),t.style.lineHeight=d)}function Rt(){const e=l(R);if(!h(e)){d=null;return}const t=document.getElementById("line-height-input");d=Number.parseFloat(e),p(t,e)}function _t(e){const t=l(R);if(h(t)){d=Number.parseFloat(t),e.style.lineHeight=d;return}d=null}function oe(e){if(h(e)){a(R,e);return}}function zt(e){const t=document.getElementById("punjabi");Mt(e,t),Tt(e,t)}function Tt(e,t){t.addEventListener("change",n=>{n.target.checked?(Q(e,"true"),a(U,"true")):(Q(e,"false"),a(U,"false")),k()})}function Q(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function xt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Mt(e,t){let n=l(U);m(n)||(n="false"),Q(e,n),xt(t,n)}const ee=1,ze=20,Te=10,xe=.01;let f=null;function Dt(){const e=document.getElementById("word-spacing-input"),t=document.getElementById("bani");Ot(e,t),Wt(e,t),Pt(e,t)}function Pt(e,t){e.addEventListener("change",n=>{let o=n.target.value;o&&(o=Number.parseFloat(o)),h(o)&&S(ee,ze,o)?(t.style.wordSpacing=o+"px",f=Number.parseFloat(o),ie(f)):(f=null,t.style.wordSpacing="normal",he(_))})}function Ot(e,t){const n=document.getElementById("word-spacing-increase");b(n,()=>{Me(xe,t,e)},()=>{ie(f)},Te)}function Wt(e,t){const n=document.getElementById("word-spacing-decrease");b(n,()=>{Me(-xe,t,e)},()=>{ie(f)},Te)}function Me(e,t,n){let o;f?o=f+e:o=ee+e,S(ee,ze,o)&&(f=o,p(n,f),t.style.wordSpacing=f+"px")}function $t(){const e=l(_);if(!h(e)){f=null;return}const t=document.getElementById("word-spacing-input");f=Number.parseFloat(e),p(t,e)}function jt(e){const t=l(_);if(h(t)){f=Number.parseFloat(t),e.style.wordSpacing=f+"px";return}f=null}function ie(e){if(h(e)){a(_,e);return}}let A=!1;function Gt(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,Xt(t)})}).catch(n=>{console.log(n)})}let I;function Xt(e){I||(I=document.getElementById("menu")),qt(e)}function Vt(){I||(I=document.getElementById("menu")),A?I.classList.add("menuClose"):I.classList.remove("menuClose"),A=!A}function Ut(){document.getElementById("reset-icon").addEventListener("click",()=>{Ze(),location.reload()})}function Yt(){document.getElementById("restart-icon").addEventListener("click",()=>{k(1)})}function Zt(e){Bt(),Ft(),Dt(),qe(),zt(e),ft(e),st(),Lt(),nt()}function Kt(e){vt(),Rt(),$t(),je(e)}function qt(e){Ut(),Yt(),Zt(e),Kt(e)}let G=window.innerWidth,X=window.innerHeight;function Jt(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&Gt(o,t),tn(t)}).catch(console.error)}function Qt(e){let t=l(fe),n=l(ge);if(Se(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,ce(e,t,n,o)}}let De=0,Pe=0;function en(e,t){Se(e,t)&&(a(fe,e),a(ge,t))}function tn(e){const t=document.getElementById("floating-button");Qt(t);let n=!1,o=!1,c=!1,i=!1,g=!1,x=!1,M,D,re,se;function C(s,E){return s.closest(`#${E}`)!==null}t.addEventListener("pointerdown",s=>{i=C(s.target,"left-icon"),g=C(s.target,"right-icon"),c=C(s.target,"menu-icon"),x=C(s.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),M=s.clientX,D=s.clientY,re=t.offsetLeft,se=t.offsetTop,t.setPointerCapture(s.pointerId)}),t.addEventListener("pointermove",s=>{if(n){const E=s.clientX-M,B=s.clientY-D;if(Math.abs(E)>v||Math.abs(B)>v){const P=t.offsetWidth;t.offsetHeight;let O=re+E,Oe=se+B;ce(t,O,Oe,P),c=!1,i=!1,g=!1,x=!1,o=!1}}});const v=15;t.addEventListener("pointerup",s=>{const E=s.clientX,B=s.clientY,ae=Math.abs(E-M),P=Math.abs(B-D),O=ae<=v&&P<=v;o&&O?(c&&Vt(),i&&Ee(e),g&&Ie(e),x&&de()):n&&en(De,Pe),n=!1,A||t.classList.add("inactive"),t.releasePointerCapture(s.pointerId)}),Ke()}function ce(e,t,n,o,c){G=window.innerWidth,X=window.innerHeight;const i=o/2,g=10;t-i-g<0&&(t=i+g),t+i+g>G&&(t=G-i-g),n-i-g<0&&(n=i+g),n+i+g>X&&(n=X-i-g),De=t,Pe=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function te(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,ce(e,t,n,o)}function nn(e){on(e)}function on(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?Ee(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?Ie(e):(t.key==="F"||t.key==="f")&&de()})}function cn(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function rn(){const e=document.getElementById("bani");if(!e)return;const t=document.getElementById("floating-button-container");t!=null&&Jt(t,e);function n(){wt(e),_t(e),jt(e)}n(),nn(e)}cn(rn);ut();rt();pt();
