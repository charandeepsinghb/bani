let W;function Ze(e){if(W==null)return W=e.classList.contains("enable-para"),W}let w="";function Ke(e){return w!=""||(w=e.getAttribute("data-bani-name")||""),w}let r=1,u=r,U,L="d-block",B;function qe(e){B=Ke(e),r=parseInt(localStorage.getItem("currentShabadStart_"+B))||1,u=r,U=e,Ze(e)&&(L="d-inline"),Se(e)}function Je(e){if(r<=1)return;Qe(),u=r-1;const t=500;let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){r--;const o=document.getElementById("shabad_"+r);if(!o){r++;break}if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),r++;break}if(n>t)break;n++}localStorage.setItem("currentShabadStart_"+B,r)}function Qe(){let t=r,n=Math.max(u,r);for(;t<=n;){const o=document.getElementById("shabad_"+t);if(o&&o.classList.remove(L),t-r>500)break;t++}}function et(){let t=r;for(r=u+1;t<=u;){const n=document.getElementById("shabad_"+t);if(n&&n.classList.remove(L),t-r>500)break;t++}}function tt(e){if(!document.getElementById("shabad_"+(u+1)))return;et(),u=r;const n=500;let o=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const i=document.getElementById("shabad_"+u);if(!i)break;if(i.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){i.classList.remove(L),u--;break}if(u++,o>n)break;o++}localStorage.setItem("currentShabadStart_"+B,r)}function Se(e){let n=0;for(;e.getBoundingClientRect().height<window.innerHeight;){const o=document.getElementById("shabad_"+u);if(!o)break;if(o.classList.add(L),e.getBoundingClientRect().height>window.innerHeight){o.classList.remove(L),u--;break}if(u++,n>500)break;n++}localStorage.setItem("currentShabadStart_"+B,r)}function y(e){U&&(nt(),e&&(r=e),u=r,Se(U))}function nt(){let e=r;const t=500;let n=0;for(;e<=u;){const o=document.getElementById("shabad_"+e);if(o&&o.classList.remove(L),e++,n>t)break;n++}}function pe(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen().then(()=>{y(),te()}):document.documentElement.requestFullscreen().then(()=>{y(),te()})}const be="floatingButtonX",Be="floatingButtonY";function a(e,t){localStorage.setItem(e,t)}function ye(e){localStorage.removeItem(e)}function l(e){return localStorage.getItem(e)}const Ce="fontSize",T="lineHeight",z="wordSpacing",ve="align",V="english",Y="punjabi",N="darkMode",H="fontColor",de="fontColorSecond",_="backgroundColor",fe="backgroundColorSecond";function ot(){localStorage.clear()}function we(e){Je(e)}function Fe(e){tt(e)}function it(){window.addEventListener("resize",()=>{te()})}function h(e){return e!=null&&!isNaN(e)&&e!=="undefined"&&e!==""}function Ae(...e){for(const t of e)if(t==null||isNaN(t)||t==="undefined")return!1;return!0}function I(e,t,n){return n>=e&&n<=t}function m(e){return e&&typeof e=="string"&&e.length>0}function ct(){const e=document.getElementById("leftAlign"),t=document.getElementById("middleAlign"),n=document.getElementById("rightAlign"),o=document.getElementById("justifyAlign"),i=document.getElementById("bani");lt(e,t,n,o,i),rt(e,t,n,o,i)}function rt(e,t,n,o,i){e.addEventListener("change",c=>{F("start",c.target.checked,i)}),t.addEventListener("change",c=>{F("center",c.target.checked,i)}),n.addEventListener("change",c=>{F("end",c.target.checked,i)}),o.addEventListener("change",c=>{F("justify",c.target.checked,i)})}function F(e,t,n){!t&&!m(e)||(n.style.textAlign=e,st(e))}function st(e){m(e)&&a(ve,e)}function at(e,t,n,o,i,c){switch(i){case"start":c.style.textAlign=i,e.checked=!0;break;case"end":c.style.textAlign=i,n.checked=!0;break;case"center":c.style.textAlign=i,t.checked=!0;break;case"justify":c.style.textAlign=i,o.checked=!0;break}}function lt(e,t,n,o,i){const c=l(ve);m(c)&&at(e,t,n,o,c,i)}function ut(){const e=document.getElementById("background-color"),t=document.getElementById("background-color-picker-2");me(e,_),me(t,fe),he(e,_),he(t,fe),dt(e),ge(e),ge(t)}function ge(e){e.addEventListener("click",t=>{ne(t.target.value)})}function he(e,t){e.addEventListener("change",n=>{ne(n.target.value),a(t,n.target.value)})}function ne(e){document.documentElement.style.setProperty("--background-color",e)}function Ne(e,t){e.value=t}function me(e,t){let n=l(t);m(n)&&Ne(e,n)}const $="#ffffff";function dt(e){document.getElementById("background-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--background-color",$),Ne(e,$),a(_,$)})}function ft(){let e=l(_);m(e)&&ne(e)}function gt(e){ht(e)}function ht(e){mt(e,function(t){const n=t.target.parentElement;n.classList.contains("gurmukhi")&&console.log(n)},1e3)}function mt(e,t,n=500){let o;e.addEventListener("mousedown",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("mouseup",()=>clearTimeout(o)),e.addEventListener("mouseleave",()=>clearTimeout(o)),e.addEventListener("touchstart",i=>{o=setTimeout(()=>t(i),n)}),e.addEventListener("touchend",()=>clearTimeout(o)),e.addEventListener("touchcancel",()=>clearTimeout(o))}function Lt(){const e=document.getElementById("dark-mode");kt(e),Et(e)}function Et(e){e.addEventListener("change",t=>{t.target.checked?(Z("true"),a(N,"true")):(Z("false"),a(N,"false"))})}function Z(e){e==="true"?R(!0):e==="false"&&R(!1)}function K(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function kt(e){let t=l(N);m(t)||(t="false"),K(e,t)}function It(){let e=l(N);m(e)||(e="false"),Z(e)}function R(e){if(e){document.body.classList.add("dark-mode");return}document.body.classList.remove("dark-mode")}const St=window.matchMedia("(prefers-color-scheme: dark)");St.addEventListener("change",e=>{const t=document.getElementById("dark-mode");e.matches?(R(!0),K(t,"true")):(R(!1),K(t,"false"))});function pt(e){const t=document.getElementById("english");yt(e,t),bt(e,t)}function bt(e,t){t.addEventListener("change",n=>{n.target.checked?(q(e,"true"),a(Y,"true")):(q(e,"false"),a(Y,"false")),y()})}function q(e,t){t==="true"?e.classList.remove("hide-shabad-en"):t==="false"&&e.classList.add("hide-shabad-en")}function Bt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function yt(e,t){let n=l(Y);m(n)||(n="false"),q(e,n),Bt(t,n)}function Ct(){const e=document.getElementById("font-color"),t=document.getElementById("font-color-picker-2");ke(e,H),ke(t,de),Ee(e,H),Ee(t,de),vt(e),Le(e),Le(t)}function Le(e){e.addEventListener("click",t=>{oe(t.target.value)})}function Ee(e,t){e.addEventListener("change",n=>{oe(n.target.value),a(t,n.target.value)})}function oe(e){document.documentElement.style.setProperty("--font-color",e)}function He(e,t){e.value=t}function ke(e,t){let n=l(t);m(n)&&He(e,n)}const j="#000000";function vt(e){document.getElementById("font-reset-icon").addEventListener("click",()=>{document.documentElement.style.setProperty("--font-color",j),He(e,j),a(H,j)})}function wt(){let e=l(H);m(e)&&oe(e)}function S(e,t){e.value=Number.parseFloat(t).toFixed(2)}let _e;function Ft(e,t){_e=setInterval(()=>{e()},t)}function Ie(e){clearInterval(_e),e()}function p(e,t,n,o){e.addEventListener("pointerdown",i=>{Ft(()=>{t()},o)}),e.addEventListener("pointerup",i=>{Ie(()=>{n()})}),e.addEventListener("pointerleave",i=>{Ie(()=>{n()})})}const Re=1,Te=200,ze=1,xe=.04;function At(){const e=document.getElementById("font-input"),t=document.getElementById("bani");Ht(e,t),_t(e,t),Nt(e,t)}function Nt(e,t){e.addEventListener("change",n=>{h(n.target.value)&&I(Re,Te,n.target.value)&&(t.style.fontSize=n.target.value+"px",ie(t))})}function Ht(e,t){const n=document.getElementById("font-increase");p(n,()=>{De(xe,t,e)},()=>{ie(t)},ze)}function _t(e,t){const n=document.getElementById("font-decrease");p(n,()=>{De(-xe,t,e)},()=>{ie(t)},ze)}function Rt(){const e=document.getElementById("bani"),t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2)),o=document.getElementById("font-input");S(o,n)}function De(e,t,n){const o=window.getComputedStyle(t).getPropertyValue("font-size");let c=Number.parseFloat(o.substring(0,o.length-2))+e;I(Re,Te,c)&&(S(n,c),t.style.fontSize=c+"px")}function Tt(e){const t=l(Ce);if(h(t)){e.style.fontSize=t+"px";return}}function ie(e){const t=window.getComputedStyle(e).getPropertyValue("font-size"),n=Number.parseFloat(t.substring(0,t.length-2));if(h(n)){a(Ce,n);return}}const J=1,Me=10,Oe=10,Pe=.01;let d=null;function zt(){const e=document.getElementById("line-height-input"),t=document.getElementById("bani");Dt(e,t),Mt(e,t),xt(e,t)}function xt(e,t){e.addEventListener("change",n=>{const o=n.target.value;h(o)&&I(J,Me,o)?(t.style.lineHeight=o,d=Number.parseFloat(o),ce(d)):(d=null,t.style.lineHeight="normal",ye(T))})}function Dt(e,t){const n=document.getElementById("line-height-increase");p(n,()=>{We(Pe,t,e)},()=>{ce(d)},Oe)}function Mt(e,t){const n=document.getElementById("line-height-decrease");p(n,()=>{We(-Pe,t,e)},()=>{ce(d)},Oe)}function We(e,t,n){let o;d?o=d+e:o=J+e,I(J,Me,o)&&(d=o,S(n,d),t.style.lineHeight=d)}function Ot(){const e=l(T);if(!h(e)){d=null;return}const t=document.getElementById("line-height-input");d=Number.parseFloat(e),S(t,e)}function Pt(e){const t=l(T);if(h(t)){d=Number.parseFloat(t),e.style.lineHeight=d;return}d=null}function ce(e){if(h(e)){a(T,e);return}}function Wt(e){const t=document.getElementById("punjabi");Gt(e,t),$t(e,t)}function $t(e,t){t.addEventListener("change",n=>{n.target.checked?(Q(e,"true"),a(V,"true")):(Q(e,"false"),a(V,"false")),y()})}function Q(e,t){t==="true"?e.classList.remove("hide-shabad-pu"):t==="false"&&e.classList.add("hide-shabad-pu")}function jt(e,t){t==="true"?e.checked=!0:t==="false"&&(e.checked=!1)}function Gt(e,t){let n=l(V);m(n)||(n="false"),Q(e,n),jt(t,n)}const ee=1,$e=20,je=10,Ge=.01;let f=null;function Xt(){const e=document.getElementById("word-spacing-input"),t=document.getElementById("bani");Vt(e,t),Yt(e,t),Ut(e,t)}function Ut(e,t){e.addEventListener("change",n=>{let o=n.target.value;o&&(o=Number.parseFloat(o)),h(o)&&I(ee,$e,o)?(t.style.wordSpacing=o+"px",f=Number.parseFloat(o),re(f)):(f=null,t.style.wordSpacing="normal",ye(z))})}function Vt(e,t){const n=document.getElementById("word-spacing-increase");p(n,()=>{Xe(Ge,t,e)},()=>{re(f)},je)}function Yt(e,t){const n=document.getElementById("word-spacing-decrease");p(n,()=>{Xe(-Ge,t,e)},()=>{re(f)},je)}function Xe(e,t,n){let o;f?o=f+e:o=ee+e,I(ee,$e,o)&&(f=o,S(n,f),t.style.wordSpacing=f+"px")}function Zt(){const e=l(z);if(!h(e)){f=null;return}const t=document.getElementById("word-spacing-input");f=Number.parseFloat(e),S(t,e)}function Kt(e){const t=l(z);if(h(t)){f=Number.parseFloat(t),e.style.wordSpacing=f+"px";return}f=null}function re(e){if(h(e)){a(z,e);return}}let A=!1;function qt(e,t){fetch("components/menu/menu.html").then(n=>{n.text().then(o=>{e.innerHTML=o,Jt(t)})}).catch(n=>{console.log(n)})}let k;function Jt(e){k||(k=document.getElementById("menu")),cn(e)}function Qt(){k||(k=document.getElementById("menu")),A?k.classList.add("menuClose"):k.classList.remove("menuClose"),A=!A}function en(){document.getElementById("reset-icon").addEventListener("click",()=>{ot(),location.reload()})}function tn(){document.getElementById("restart-icon").addEventListener("click",()=>{y(1)})}function nn(e){At(),zt(),Xt(),ct(),Wt(e),pt(e),Lt(),Ct(),ut(),gt(e)}function on(e){Rt(),Ot(),Zt(),qe(e)}function cn(e){en(),tn(),nn(e),on(e)}let G=window.innerWidth,X=window.innerHeight;function rn(e,t){fetch("components/floating-button/floating-button.html").then(n=>n.text()).then(n=>{e.innerHTML=n;const o=document.getElementById("menu-container");o&&qt(o,t),ln(t)}).catch(console.error)}function sn(e){let t=l(be),n=l(Be);if(Ae(t,n)){t=Number.parseFloat(t),n=Number.parseFloat(n);const o=e.offsetWidth;e.offsetHeight,se(e,t,n,o)}}let Ue=0,Ve=0;function an(e,t){Ae(e,t)&&(a(be,e),a(Be,t))}function ln(e){const t=document.getElementById("floating-button");sn(t);let n=!1,o=!1,i=!1,c=!1,g=!1,x=!1,D,M,ae,le;function C(s,E){return s.closest(`#${E}`)!==null}t.addEventListener("pointerdown",s=>{c=C(s.target,"left-icon"),g=C(s.target,"right-icon"),i=C(s.target,"menu-icon"),x=C(s.target,"fullscreen-icon"),o=!0,n=!0,t.classList.remove("inactive"),D=s.clientX,M=s.clientY,ae=t.offsetLeft,le=t.offsetTop,t.setPointerCapture(s.pointerId)}),t.addEventListener("pointermove",s=>{if(n){const E=s.clientX-D,b=s.clientY-M;if(Math.abs(E)>v||Math.abs(b)>v){const O=t.offsetWidth;t.offsetHeight;let P=ae+E,Ye=le+b;se(t,P,Ye,O),i=!1,c=!1,g=!1,x=!1,o=!1}}});const v=15;t.addEventListener("pointerup",s=>{const E=s.clientX,b=s.clientY,ue=Math.abs(E-D),O=Math.abs(b-M),P=ue<=v&&O<=v;o&&P?(i&&Qt(),c&&we(e),g&&Fe(e),x&&pe()):n&&an(Ue,Ve),n=!1,A||t.classList.add("inactive"),t.releasePointerCapture(s.pointerId)}),it()}function se(e,t,n,o,i){G=window.innerWidth,X=window.innerHeight;const c=o/2,g=10;t-c-g<0&&(t=c+g),t+c+g>G&&(t=G-c-g),n-c-g<0&&(n=c+g),n+c+g>X&&(n=X-c-g),Ue=t,Ve=n,e.style.left=`${t}px`,e.style.top=`${n}px`,e.style.bottom="auto",e.style.right="auto"}function te(){const e=document.getElementById("floating-button");if(!e)return;const t=e.offsetLeft,n=e.offsetTop,o=e.offsetWidth;e.offsetHeight,se(e,t,n,o)}function un(e){dn(e)}function dn(e){document.addEventListener("keydown",t=>{t.key==="ArrowLeft"||t.key==="A"||t.key==="a"?we(e):t.key==="ArrowRight"||t.key==="D"||t.key==="d"?Fe(e):(t.key==="F"||t.key==="f")&&pe()})}function fn(e){document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&e()})}function gn(){const e=document.getElementById("bani");if(!e)return;const t=document.getElementById("floating-button-container");t!=null&&rn(t,e);function n(){Tt(e),Pt(e),Kt(e)}n(),un(e)}fn(gn);It();ft();wt();
